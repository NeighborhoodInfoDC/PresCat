1                                       The SAS System            19:08 Saturday, July 18, 2015

NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS2M3) 
      Licensed to THE URBAN INSTITUTE, Site 70097024.
NOTE: This session is executing on the X64_VSHOME  platform.



NOTE: SAS initialization used:
      real time           0.13 seconds
      cpu time            0.17 seconds
      

NOTE: AUTOEXEC processing beginning; file is C:\Users\Peter\Documents\My SAS 
      Files\9.2\Autoexnt.sas.


NOTE: AUTOEXEC processing completed.

1          /**************************************************************************
2           Program:  Update_Sec8mf_2014_11.sas
3           Library:  PresCat
4           Project:  NeighborhoodInfo DC
5           Author:   P. Tatian
6           Created:  12/24/14
7           Version:  SAS 9.2
8           Environment:  Local Windows session (desktop)
9          
10          Description:  Update Preservation Catalog with latest HUD Sec 8 MF
11          update file.
12         
13          UPDATE PRESCAT.PROJECT
14         
15          Modifications:
16         **************************************************************************/
17         
18         /*%include "L:\SAS\Inc\StdLocal.sas";*/
19         %include "C:\DCData\SAS\Inc\StdLocal.sas";
NOTE: Library _METADAT does not exist.
64        +
65        +options ls=124 ps=48;    ** Landscape **;
66        +
67        +** Output title **;
68        +
69        +title "&_library/&_program:  NeighborhoodInfo DC";
70        +
71        +** Define General library for local session only **;
2 The SAS System                                                                               19:08 Saturday, July 18, 2015

72        +
73        +%DCData_lib( General, env=windows, macdef=dcautos uiautos sasautos )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref GENERA_L was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DCData\Libraries\General\Data
NOTE: Libname GENERA_R refers to the same physical library as GENERA_L.
NOTE: Libref GENERA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DCData\Libraries\General\Data
NOTE: Libref GENERAL was successfully assigned as follows: 
      Levels:           2
      Engine(1):        V9 
      Physical Name(1): C:\DCData\Libraries\General\Data
      Engine(2):        V9 
      Physical Name(2): C:\DCData\Libraries\General\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     GENERA_L DCAUTOS UIAUTOS SASAUTOS

=====================================================================


=====================================================================
Current Sasautos Option value:

     GENERA_L  GENERA_R DCAUTOS UIAUTOS SASAUTOS

3 The SAS System                                                                               19:08 Saturday, July 18, 2015

=====================================================================

74        +
75        +%let _userid = %sysfunc( putc( %lowcase(&SYSUSERID), $longusr. ) );
NOTE: %INCLUDE (level 1) ending.
76         
77         ** Define libraries **;
78         %DCData_lib( PresCat, local=n )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref PRESCA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DCData\Libraries\PresCat\Data
NOTE: Libref PRESCAT was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): C:\DCData\Libraries\PresCat\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL PRESCAT

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
NOTE:    PRESCAT.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     PRESCA_R GENERA_L GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

79         %DCData_lib( HUD, local=n )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref HUD_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: C:\DCData\Libraries\HUD\Data
4 The SAS System                                                                               19:08 Saturday, July 18, 2015

NOTE: Libref HUD was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): C:\DCData\Libraries\HUD\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL PRESCAT HUD

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
NOTE:    PRESCAT.FORMATS EXISTS
NOTE:    HUD.FORMATS DOES NOT EXIST
=====================================================================


=====================================================================
Current Sasautos Option value:

     PRESCA_R  HUD_R GENERA_L GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

80         
81         %let Subsidy_info_source = "HUD/MFA";
82         %let Update_file = Sec8MF_2014_11;
83         %let Finalize = N;
84         %let NO_SUBSIDY_ID = 9999999999;
85         %let Update_dtm = %sysfunc( datetime() );
86         
87         %let Subsidy_update_vars =
88             Units_Assist POA_start POA_end contract_number
89             rent_to_FMR_description Subsidy_Active Program
90             Subsidy_Info_Source_ID
91             Subsidy_Info_Source_Date Update_Dtm;
92         
93         %let Subsidy_tech_vars = Subsidy_Info_Source Subsidy_Info_Source_ID Subsidy_Info_Source_Date Update_Dtm;
94         
95         %let Subsidy_missing_info_vars =
5 The SAS System                                                                               19:08 Saturday, July 18, 2015

96             contract_number property_name_text address_line1_text program_type_name;
97         
98         %let Project_mfa_update_vars =
99             Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name
100            Hud_Mgr_Type;
101        
102        %let Project_subsidy_update_vars =
103            Subsidized Proj_Units_Assist_Min Subsidy_Start_First Subsidy_End_First
104            Proj_Units_Assist_Max Subsidy_Start_Last Subsidy_End_Last;
105        
106        %let Project_missing_info_vars =
107            contract_number property_name_text address_line1_text program_type_name;
108        
109        proc sql noprint;
110          select Extract_date into :Subsidy_Info_Source_Date from Hud.&Update_file._dc;
111        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

112        
113        %put _user_;
GLOBAL FINALIZE N
GLOBAL SQLOBS 1
GLOBAL PROJECT_MFA_UPDATE_VARS Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
GLOBAL PROJECT_SUBSIDY_UPDATE_VARS Subsidized Proj_Units_Assist_Min Subsidy_Start_First Subsidy_End_First      
Proj_Units_Assist_Max Subsidy_Start_Last Subsidy_End_Last
GLOBAL PROJECT_MISSING_INFO_VARS contract_number property_name_text address_line1_text program_type_name
GLOBAL SQLOOPS 16
GLOBAL UPDATE_DTM 1752865708.669
GLOBAL _RECURSE 
GLOBAL UPDATE_FILE Sec8MF_2014_11
GLOBAL SYS_SQL_IP_ALL -1
GLOBAL SYS_SQL_IP_STMT 
GLOBAL _REMOTE_SESSION 0
GLOBAL _DCDATA_L_DRIVE C
GLOBAL _DCDATA_R_DRIVE C
GLOBAL _DCDATA_L_PATH C:\DCData\Libraries
GLOBAL _DCDATA_R_PATH C:\DCData\Libraries
GLOBAL _DCDATA_PATH C:\DCData\Libraries
GLOBAL NO_SUBSIDY_ID 9999999999
GLOBAL SQLXOBS 0
GLOBAL SQLRC 0
GLOBAL _USERID peter
GLOBAL _LIBRARY PRESCAT
6 The SAS System                                                                               19:08 Saturday, July 18, 2015

GLOBAL _PROGRAM Update_Sec8mf_2014_11_b.sas
GLOBAL SUBSIDY_INFO_SOURCE "HUD/MFA"
GLOBAL SUBSIDY_UPDATE_VARS Units_Assist POA_start POA_end contract_number     rent_to_FMR_description Subsidy_Active 
Program      Subsidy_Info_Source_ID      Subsidy_Info_Source_Date Update_Dtm
GLOBAL SUBSIDY_TECH_VARS Subsidy_Info_Source Subsidy_Info_Source_ID Subsidy_Info_Source_Date Update_Dtm
GLOBAL SUBSIDY_MISSING_INFO_VARS contract_number property_name_text address_line1_text program_type_name
GLOBAL SQLEXITCODE 0
GLOBAL SUBSIDY_INFO_SOURCE_DATE 11/25/2014
GLOBAL _NEWFMS GENERAL PRESCAT
114        
115        proc print data=/***PresCat.Subsidy***/PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11;
116          where nlihc_id in (
117            "NL000035",
118            "NL000040",
119            "NL000094",
120            "NL000105",
121            "NL000134",
122            "NL000196",
123            "NL000229",
124            "NL000274",
125            "NL000291",
126            "NL000307",
127            "NL000324",
128            "NL000999" );
129          **where nlihc_id in (
130            "NL000001",
131            "NL000046",
132            "NL000103",
133            "NL000273",
134            "NL000280" );
135          **where Subsidy_Info_Source_ID in (
136            "800003675/DC39L000069",
137            "800003741/DC39L000008",
138            "800003780/DC390014006",
139            "800003784/DC390005003",
140            "800003784/DC39L000067",
141            "800003784/DC39L000081",
142            "800218816/DC39M000023" );
143          id nlihc_id;
144          by nlihc_id;
145          var subsidy_id Subsidy_Info_Source Subsidy_Info_Source_ID Subsidy_Info_Source_Date Subsidy_active units_assist
145      ! poa_end;
146          format Subsidy_Info_Source ;
147        run;

NOTE: There were 23 observations read from the data set PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11.
7 The SAS System                                                                               19:08 Saturday, July 18, 2015

      WHERE nlihc_id in ('NL000035', 'NL000040', 'NL000094', 'NL000105', 'NL000134', 'NL000196', 'NL000229', 'NL000274', 
      'NL000291', 'NL000307', 'NL000324', 'NL000999');
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

148        
149        
150        **************************************************************************;
151        ***** Create test version of Project exception file **;
152        
153        data Project_except_test;
154        
155          set PresCat.Project_except_test (keep=nlihc_id &Project_mfa_update_vars);
156        
157          ** Exception for updated var **;
158          nlihc_id = "NL000047";
159          Hud_Own_Name = "NEW OWNER!";
160          Hud_Own_Effect_dt = .;
161          Hud_mgr_name = "";
162          Except_date = date();
163          Except_init = 'PAT';
164          output;
165        
166          ** Exception for nonupdated var **;
167          nlihc_id = "NL000001";
168          Hud_Own_Name = "";
169          Hud_Own_Effect_dt = '01jan2015'd;
170          Hud_mgr_name = "";
171          Except_date = date();
172          Except_init = 'PAT';
173          output;
174        
175          ** Exception same as updated var **;
176          nlihc_id = "NL000102";
177          Hud_Own_Name = "Fpw, LP";
178          Hud_Own_Effect_dt = .;
179          Hud_mgr_name = "";
180          Except_date = date();
181          Except_init = 'PAT';
182          output;
183        
184          ** Exception for nonupdated obs **;
185          nlihc_id = "NL000035";
8 The SAS System                                                                               19:08 Saturday, July 18, 2015

186          Hud_Own_Name = "";
187          Hud_Own_Effect_dt = .;
188          Hud_mgr_name = "Who's the manager?";
189          Except_date = date();
190          Except_init = 'PAT';
191          output;
192        
193          format Except_date mmddyy10.;
194        
195        run;

NOTE: There were 1 observations read from the data set PRESCAT.PROJECT_EXCEPT_TEST.
NOTE: The data set WORK.PROJECT_EXCEPT_TEST has 4 observations and 8 variables.
NOTE: Compressing data set WORK.PROJECT_EXCEPT_TEST increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

196        
197        %File_info( data=Project_except_test, contents=n, stats= )
MPRINT(FILE_INFO):   title2 "File = Project_except_test";
MPRINT(FILE_INFO):   proc print data=Project_except_test (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
198        
199        ***** Normalize exception file *****;
200        
201        ***options mprint symbolgen mlogic spool;
202        
203        %Except_norm( lib=work, data=Project_except_test, by=nlihc_id )
MPRINT(EXCEPT_NORM):   proc sql noprint;
MPRINT(EXCEPT_NORM):   select distinct name into :charvarlist separated by ' ' from dictionary.columns where libname="WORK" 
and memname="PROJECT_EXCEPT_TEST" and type='char';
MPRINT(EXCEPT_NORM):   select distinct name into :numvarlist separated by ' ' from dictionary.columns where libname="WORK" 
9 The SAS System                                                                               19:08 Saturday, July 18, 2015

and memname="PROJECT_EXCEPT_TEST" and type='num';
MPRINT(EXCEPT_NORM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(EXCEPT_NORM):   proc sort data=work.Project_except_test out=Project_except_test_srt;
MPRINT(EXCEPT_NORM):   by nlihc_id descending except_date;
MPRINT(EXCEPT_NORM):   run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_EXCEPT_TEST_SRT has 4 observations and 8 variables.
NOTE: Compressing data set WORK.PROJECT_EXCEPT_TEST_SRT increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: [ListChangeDelim] Processing list=hud_mgr_name hud_mgr_type hud_own_name hud_own_type
NOTE: [ListChangeDelim] New list=hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret
NOTE: [ListChangeDelim] Processing list=hud_own_effect_dt
NOTE: [ListChangeDelim] New list=hud_own_effect_dt_ret
EXCEPT_NORM DATA Project_except_test
EXCEPT_NORM NUMVARLIST Except_date Hud_Own_Effect_dt
EXCEPT_NORM NUMVARLISTCLEAN hud_own_effect_dt
EXCEPT_NORM NUMVARLISTRET hud_own_effect_dt_ret
EXCEPT_NORM OUT Project_except_test_norm
EXCEPT_NORM LIB work
EXCEPT_NORM CHARVARLIST Except_init Hud_Mgr_Name Hud_Mgr_Type Hud_Own_Name Hud_Own_Type Nlihc_id
EXCEPT_NORM CHARVARLISTCLEAN hud_mgr_name hud_mgr_type hud_own_name hud_own_type
EXCEPT_NORM CHARVARLISTRET hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret
EXCEPT_NORM LASTBY nlihc_id
EXCEPT_NORM BY nlihc_id
MPRINT(EXCEPT_NORM):   data Project_except_test_norm;
MPRINT(EXCEPT_NORM):   set Project_except_test_srt;
MPRINT(EXCEPT_NORM):   by nlihc_id;
MPRINT(EXCEPT_NORM):   length hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret $ 400;
MPRINT(EXCEPT_NORM):   length hud_own_effect_dt_ret 8;
MPRINT(EXCEPT_NORM):   retain hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret;
MPRINT(EXCEPT_NORM):   retain hud_own_effect_dt_ret;
MPRINT(EXCEPT_NORM):   array cvar{*} hud_mgr_name hud_mgr_type hud_own_name hud_own_type;
MPRINT(EXCEPT_NORM):   array cret{*} hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret;
MPRINT(EXCEPT_NORM):   array nvar{*} hud_own_effect_dt;
10 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(EXCEPT_NORM):   array nret{*} hud_own_effect_dt_ret;
MPRINT(EXCEPT_NORM):   if first.nlihc_id then do;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( cret );
MPRINT(EXCEPT_NORM):   cret{i} = '';
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( nret );
MPRINT(EXCEPT_NORM):   nret{i} = .;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( cret );
MPRINT(EXCEPT_NORM):   if cret{i} = '' then cret{i} = cvar{i};
MPRINT(EXCEPT_NORM):   else if cvar{i} ~= '' then do;
MPRINT(WARN_PUT):   put "WARN" "ING:" " " "Multiple exceptions specified: " (nlihc_id) (=) cvar{i}= except_date=;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( nret );
MPRINT(EXCEPT_NORM):   if nret{i} = . then nret{i} = nvar{i};
MPRINT(EXCEPT_NORM):   else if nvar{i} ~= . then do;
MPRINT(WARN_PUT):   put "WARN" "ING:" " " "Multiple exceptions specified: " (nlihc_id) (=) nvar{i}= except_date=;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   if last.nlihc_id then do;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( cret );
MPRINT(EXCEPT_NORM):   cvar{i} = cret{i};
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   do i = 1 to dim( nret );
MPRINT(EXCEPT_NORM):   nvar{i} = nret{i};
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   output;
MPRINT(EXCEPT_NORM):   end;
MPRINT(EXCEPT_NORM):   drop i hud_mgr_name_ret hud_mgr_type_ret hud_own_name_ret hud_own_type_ret hud_own_effect_dt_ret 
Except_: ;
MPRINT(EXCEPT_NORM):   run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_SRT.
NOTE: The data set WORK.PROJECT_EXCEPT_TEST_NORM has 4 observations and 6 variables.
NOTE: Compressing data set WORK.PROJECT_EXCEPT_TEST_NORM increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

204        
205          proc print data=Project_except_test_norm;
206            id nlihc_id;
11 The SAS System                                                                              19:08 Saturday, July 18, 2015

207            title2 "File = Project_except_test_norm";
208          run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_NORM.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

209        
210        
211        ********************************************************************************;
212        ** Update Project file;
213        
214        ** Get Category IDs from Project dataset **;
215        
216        %Data_to_format(
217          FmtLib=work,
218          FmtName=$nlihcid2cat,
219          Desc=,
220          Data=PresCat.Project_category,
221          Value=nlihc_id,
222          Label=category_code,
223          OtherLabel='',
224          DefaultLen=1,
225          Print=N,
226          Contents=N
227          )
NOTE: [Data_to_format] Starting macro.
MPRINT(DATA_TO_FORMAT):   data _cntlin (compress=no);
MPRINT(DATA_TO_FORMAT):   length hlo $ 8;
MPRINT(DATA_TO_FORMAT):   retain fmtname "$nlihcid2cat" type "C" default 1 max . min .;
MPRINT(DATA_TO_FORMAT):   retain hlo " ";
MPRINT(DATA_TO_FORMAT):   set PresCat.Project_category end=last;
MPRINT(DATA_TO_FORMAT):   label = category_code;
MPRINT(DATA_TO_FORMAT):   start = nlihc_id;
MPRINT(DATA_TO_FORMAT):   output;
MPRINT(DATA_TO_FORMAT):   if last then do;
MPRINT(DATA_TO_FORMAT):   hlo = trim( hlo ) || 'o';
MPRINT(DATA_TO_FORMAT):   label = '';
MPRINT(DATA_TO_FORMAT):   output;
MPRINT(DATA_TO_FORMAT):   end;
MPRINT(DATA_TO_FORMAT):   keep fmtname type hlo label start default max min;
MPRINT(DATA_TO_FORMAT):   run;

12 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: There were 362 observations read from the data set PRESCAT.PROJECT_CATEGORY.
NOTE: The data set WORK._CNTLIN has 363 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(DATA_TO_FORMAT):   proc format library=work cntlin=_cntlin;
NOTE: Format $NLIHCID2CAT has been output.
MPRINT(DATA_TO_FORMAT):   run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: There were 363 observations read from the data set WORK._CNTLIN.

MPRINT(DATA_TO_FORMAT):   proc datasets library=work memtype=(data) nolist;
MPRINT(DATA_TO_FORMAT):   delete _cntlin;
MPRINT(DATA_TO_FORMAT):   quit;

NOTE: Deleting WORK._CNTLIN (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: [Data_to_format] Exiting macro.
228        
229        
230        ** Prepare update file **;
231        
232        data Sec8MF_project_update;
233        
234          set Hud.&Update_file._dc;
235          where not( program_type_name = "UnasstPrj SCHAP" and assisted_units_count = 0 );
236        
237          ** Create update variables **;
238        
239          length
240            Hud_Own_Effect_dt  8
241            Hud_Own_Name $ 80
242            Hud_Own_Type $ 2
243            Hud_Mgr_Name $ 80
244            Hud_Mgr_Type $ 2
245            Subsidy_Info_Source $ 40
13 The SAS System                                                                              19:08 Saturday, July 18, 2015

246            Subsidy_Info_Source_ID $ 40
247            Subsidy_Info_Source_Date 8
248            Update_Dtm 8
249          ;
250        
251          retain Subsidy_Info_Source &Subsidy_Info_Source;
252        
253          Subsidy_Info_Source_ID = trim( left( put( property_id, 16. ) ) ) || "/" ||
254                                   left( contract_number );
255        
256          Subsidy_Info_Source_Date = extract_date;
257        
258          Update_Dtm = &Update_Dtm;
259        
260          Hud_Own_Effect_dt = ownership_effective_date;
261        
262          if not( missing( owner_organization_name ) ) then do;
263            %owner_name_clean( owner_organization_name, Hud_Own_Name )
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = propcase( left( compbl( owner_organization_name ) ) );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ne', 'NE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEighborhood', 'Neighborhood' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEcond', 'Second' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncba', 'NCBA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.L.P.', 'LLP' );
14 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Spm', 'SPM' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Gra Properties', 'GRA Properties' );
264          end;
265          else do;
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = propcase( left( compbl( owner_individual_full_name ) ) );
266            %owner_name_clean( owner_individual_full_name, Hud_Own_Name )
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ne', 'NE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEighborhood', 'Neighborhood' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEcond', 'Second' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncba', 'NCBA' );
15 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.L.P.', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Spm', 'SPM' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Gra Properties', 'GRA Properties' );
267          end;
268        
269          Hud_Own_Type = owner_company;
270        
271          if not( missing( mgmt_agent_org_name ) ) then do;
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = propcase( left( compbl( mgmt_agent_org_name ) ) );
272            %owner_name_clean( mgmt_agent_org_name, Hud_Mgr_Name )
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ne', 'NE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEighborhood', 'Neighborhood' );
16 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEcond', 'Second' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncba', 'NCBA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.L.P.', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Spm', 'SPM' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Gra Properties', 'GRA Properties' );
273          end;
274          else do;
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = propcase( left( compbl( mgmt_agent_full_name ) ) );
275            %owner_name_clean( mgmt_agent_full_name, Hud_Mgr_Name )
17 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ne', 'NE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEighborhood', 'Neighborhood' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEcond', 'Second' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncba', 'NCBA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.L.P.', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Spm', 'SPM' );
18 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Gra Properties', 'GRA Properties' );
276          end;
277        
278          Hud_Mgr_Type = mgmt_agent_company;
279        
280          format Hud_Own_Type $ownmgrtype. Hud_Mgr_Type $ownmgrtype.
281                 Hud_Own_Effect_dt Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
282        
283          keep &Project_mfa_update_vars &Project_missing_info_vars
284               &Subsidy_tech_vars;
285        
286        run;

NOTE: Format $S8EXQTR was not found or could not be loaded.
NOTE: Format $S8DOCTY was not found or could not be loaded.
NOTE: Format $S8PGMNM was not found or could not be loaded.
NOTE: Format $S8PGMGR was not found or could not be loaded.
NOTE: Format $S8STAT was not found or could not be loaded.
NOTE: Format $S8PRPCT was not found or could not be loaded.
NOTE: Format $S8PRFIN was not found or could not be loaded.
NOTE: Format $S8OWMGT was not found or could not be loaded.
NOTE: Format $S8OWMGT was not found or could not be loaded.
NOTE: There were 110 observations read from the data set HUD.SEC8MF_2014_11_DC.
      WHERE (program_type_name not = 'UnasstPrj SCHAP') or (assisted_units_count not = 0);
NOTE: The data set WORK.SEC8MF_PROJECT_UPDATE has 110 observations and 13 variables.
NOTE: Compressing data set WORK.SEC8MF_PROJECT_UPDATE decreased size by 0.00 percent. 
      Compressed is 3 pages; un-compressed would require 3 pages.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

287        
288        proc sort data=Sec8MF_project_update;
289          by Subsidy_Info_Source_ID;
290        run;

NOTE: There were 110 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
NOTE: SAS sort was used.
NOTE: The data set WORK.SEC8MF_PROJECT_UPDATE has 110 observations and 13 variables.
NOTE: Compressing data set WORK.SEC8MF_PROJECT_UPDATE decreased size by 0.00 percent. 
      Compressed is 3 pages; un-compressed would require 3 pages.
NOTE: PROCEDURE SORT used (Total process time):
19 The SAS System                                                                              19:08 Saturday, July 18, 2015

      real time           0.00 seconds
      cpu time            0.01 seconds
      

291        
292        %File_info( data=Sec8MF_project_update, freqvars=Hud_Own_Type Hud_Mgr_Type Subsidy_Info_Source_Date )
MPRINT(FILE_INFO):   title2 "File = Sec8MF_project_update";
MPRINT(FILE_INFO):   proc contents data=Sec8MF_project_update;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 4-5.

MPRINT(FILE_INFO):   proc print data=Sec8MF_project_update (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
NOTE: The PROCEDURE PRINT printed page 6.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   options nolabel;
MPRINT(FILE_INFO):   proc means data=Sec8MF_project_update n sum mean stddev min max;
MPRINT(FILE_INFO):   run;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 110 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
NOTE: The PROCEDURE MEANS printed page 7.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   options label;
MPRINT(FILE_INFO):   proc freq data=Sec8MF_project_update;
MPRINT(FILE_INFO):   tables Hud_Own_Type Hud_Mgr_Type Subsidy_Info_Source_Date / missing;
MPRINT(FILE_INFO):   run;

NOTE: There were 110 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
20 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: The PROCEDURE FREQ printed page 8.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title2;
293        
294        title2 'File = Sec8MF_project_update';
295        
296        %Dup_check(
297          data=Sec8MF_project_update,
298          by=Subsidy_Info_Source_ID,
299          id=contract_number
300        )
MPRINT(DUP_CHECK):   options nomprint;
NOTE: SAS threaded sort was used.
NOTE: Table WORK._DUP_CHECK created, with 0 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: [Dup_check] 0 duplicate observations found in data set SEC8MF_PROJECT_UPDATE
NOTE: [Dup_check] for BY variables SUBSIDY_INFO_SOURCE_ID.

NOTE: No observations in data set WORK._DUP_CHECK.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Deleting WORK._DUP_CHECK (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

301        
21 The SAS System                                                                              19:08 Saturday, July 18, 2015

302        proc print data=Sec8MF_project_update;
303          where Subsidy_Info_Source_ID in ( "800003675/DC39L000069", "800003675/DC39M000051" );
304          id Subsidy_Info_Source_ID;
305          var &Project_mfa_update_vars;
306        run;

NOTE: There were 2 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
      WHERE Subsidy_Info_Source_ID in ('800003675/DC39L000069', '800003675/DC39M000051');
NOTE: The PROCEDURE PRINT printed page 9.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

307        
308        title2;
309        
310        ** Create Project to update source link with Subsidy file **;
311        
312        proc sort
313            data=/***PresCat.Subsidy  TEMPORARY***/PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11
313      ! (where=(Subsidy_Info_Source="HUD/MFA" and not(missing(Subsidy_Info_Source_ID))))
314            out=Subsidy_sort (keep=nlihc_id &Subsidy_tech_vars Units_assist);
315          by nlihc_id descending Subsidy_Info_Source_Date descending Units_assist;
316        

NOTE: There were 121 observations read from the data set PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11.
      WHERE (Subsidy_Info_Source='HUD/MFA') and (not MISSING(Subsidy_Info_Source_ID));
NOTE: SAS sort was used.
NOTE: The data set WORK.SUBSIDY_SORT has 121 observations and 6 variables.
NOTE: Compressing data set WORK.SUBSIDY_SORT increased size by 50.00 percent. 
      Compressed is 3 pages; un-compressed would require 2 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

317        data Project_source_link;
318        
319          set Subsidy_sort;
320          by nlihc_id;
321        
322          if first.nlihc_id then output;
323        
324          keep nlihc_id &Subsidy_tech_vars;
325        
22 The SAS System                                                                              19:08 Saturday, July 18, 2015

326        run;

NOTE: There were 121 observations read from the data set WORK.SUBSIDY_SORT.
NOTE: The data set WORK.PROJECT_SOURCE_LINK has 114 observations and 5 variables.
NOTE: Compressing data set WORK.PROJECT_SOURCE_LINK increased size by 50.00 percent. 
      Compressed is 3 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

327        
328        %File_info( data=Project_source_link, contents=n, stats=, printobs=20 )
MPRINT(FILE_INFO):   title2 "File = Project_source_link";
MPRINT(FILE_INFO):   proc print data=Project_source_link (obs=20);
MPRINT(FILE_INFO):   title3 "Printing first 20 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 20 observations read from the data set WORK.PROJECT_SOURCE_LINK.
NOTE: The PROCEDURE PRINT printed page 10.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
329        
330        proc print data=Project_source_link;
331          where nlihc_id in ( "NL000046" ) or Subsidy_Info_Source_ID in ( "800003675/DC39L000069",
331      ! "800003675/DC39M000051" );;
332          id nlihc_id;
333        title2 "File = Project_source_link";
334        run;

NOTE: There were 1 observations read from the data set WORK.PROJECT_SOURCE_LINK.
      WHERE (nlihc_id='NL000046') or Subsidy_Info_Source_ID in ('800003675/DC39L000069', '800003675/DC39M000051');
NOTE: The PROCEDURE PRINT printed page 11.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

335        
336        title2;
337        
23 The SAS System                                                                              19:08 Saturday, July 18, 2015

338        ** Create subsidy update file **;
339        
340        %Create_project_subsidy_update( data=/***PresCat.Subsidy  TEMPORARY***/PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11 )
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   ** Get min/max assisted units by program **;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   proc summary data=PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11 nway;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   class Nlihc_id Program;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   var units_assist poa_start_orig poa_end Subsidy_active;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   output out=_Project_subsidy_update_a sum(units_assist)= min(poa_start_orig 
poa_end)=Subsidy_Start_First Subsidy_End_First max(poa_start_orig poa_end)=Subsidy_Start_Last Subsidy_End_Last 
max(Subsidy_active)=xSubsidized;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   run;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 707 observations read from the data set PRESCAT.SUBSIDY_UPDATE_SEC8MF_2014_11.
NOTE: The data set WORK._PROJECT_SUBSIDY_UPDATE_A has 702 observations and 10 variables.
NOTE: Compressing data set WORK._PROJECT_SUBSIDY_UPDATE_A decreased size by 20.00 percent. 
      Compressed is 8 pages; un-compressed would require 10 pages.
NOTE: PROCEDURE SUMMARY used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   ** Summarize by project **;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   proc summary data=_Project_subsidy_update_a;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   by Nlihc_id;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   var units_assist Subsidy_Start_First Subsidy_End_First Subsidy_Start_Last 
Subsidy_End_Last xSubsidized;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   output out=_Project_subsidy_update_b (drop=_freq_ _type_) min(units_assist 
Subsidy_Start_First Subsidy_End_First)=Proj_Units_Assist_Min Subsidy_Start_First Subsidy_End_First max(units_assist 
Subsidy_Start_Last Subsidy_End_Last)=Proj_Units_Assist_Max Subsidy_Start_Last Subsidy_End_Last max(xSubsidized)=;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   run;

NOTE: There were 702 observations read from the data set WORK._PROJECT_SUBSIDY_UPDATE_A.
NOTE: The data set WORK._PROJECT_SUBSIDY_UPDATE_B has 349 observations and 8 variables.
NOTE: Compressing data set WORK._PROJECT_SUBSIDY_UPDATE_B decreased size by 0.00 percent. 
      Compressed is 7 pages; un-compressed would require 7 pages.
NOTE: PROCEDURE SUMMARY used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   ** Adjust length of Subsidized var **;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   data Project_subsidy_update;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   set _Project_subsidy_update_b;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   length Subsidized 3;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   Subsidized = xSubsidized;
24 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   drop xSubsidized;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   run;

NOTE: There were 349 observations read from the data set WORK._PROJECT_SUBSIDY_UPDATE_B.
NOTE: The data set WORK.PROJECT_SUBSIDY_UPDATE has 349 observations and 8 variables.
NOTE: Compressing data set WORK.PROJECT_SUBSIDY_UPDATE decreased size by 0.00 percent. 
      Compressed is 7 pages; un-compressed would require 7 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   proc datasets library=work nolist nowarn;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   delete _Project_subsidy_update_a _Project_subsidy_update_b /memtype=data;
MPRINT(CREATE_PROJECT_SUBSIDY_UPDATE):   quit;

NOTE: Deleting WORK._PROJECT_SUBSIDY_UPDATE_A (memtype=DATA).
NOTE: Deleting WORK._PROJECT_SUBSIDY_UPDATE_B (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

341        
342        ** Prepare Catalog file for update **;
343        
344        data Project_mfa Project_other;
345        
346          merge PresCat.Project Project_source_link (drop=Update_dtm);
347          by nlihc_id;
348        
349          if not( missing( Subsidy_Info_Source_ID ) ) then do;
350            %Owner_name_clean( Hud_Own_Name, Hud_Own_Name )
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = propcase( left( compbl( Hud_Own_Name ) ) );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ne', 'NE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NEighborhood', 'Neighborhood' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEcond', 'Second' );
25 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncba', 'NCBA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'L.L.P.', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Spm', 'SPM' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Own_Name = tranwrd( Hud_Own_Name, 'Gra Properties', 'GRA Properties' );
351            %Owner_name_clean( Hud_Mgr_Name, Hud_Mgr_Name )
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = propcase( left( compbl( Hud_Mgr_Name ) ) );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dchfa', 'DCHFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Dc', 'DC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iii', 'III' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ii', 'II' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Iv', 'IV' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ne', 'NE' );
26 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEw', 'New' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NEighborhood', 'Neighborhood' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nw', 'NW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Se', 'SE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnior', 'Senior' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEcond', 'Second' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SErvices', 'Services' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEnate', 'Senate' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEven', 'Seven' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'SEan', 'Sean' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Sw', 'SW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Na', 'NA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncba', 'NCBA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ncb', 'NCB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Of', 'of' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fsb', 'FSB' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Pnc', 'PNC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Lp', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.P.', 'LP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llp', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'L.L.P.', 'LLP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Llc', 'LLC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nja', 'NJA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'IVy', 'Ivy' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAtion', 'Nation' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'NAylor', 'Naylor' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'atlantic', 'Atlantic' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhcoa', 'NHCOA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhte', 'NHTE' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nmi', 'NMI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cih', 'CIH' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ct', 'CT' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Shnir', 'SHNIR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Wr', 'WR' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Op', 'OP' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ndc', 'NDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Cpdc', 'CPDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Hfa', 'HFA' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Ksi', 'KSI' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Spm', 'SPM' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Fpw', 'FPW' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Npcdc', 'NPCDC' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Nhpmn', 'NHPMN' );
MPRINT(OWNER_NAME_CLEAN):   Hud_Mgr_Name = tranwrd( Hud_Mgr_Name, 'Gra Properties', 'GRA Properties' );
352            output Project_mfa;
353          end;
27 The SAS System                                                                              19:08 Saturday, July 18, 2015

354          else do;
355            output Project_other;
356          end;
357        
358        run;

NOTE: There were 362 observations read from the data set PRESCAT.PROJECT.
NOTE: There were 114 observations read from the data set WORK.PROJECT_SOURCE_LINK.
NOTE: The data set WORK.PROJECT_MFA has 114 observations and 48 variables.
NOTE: Compressing data set WORK.PROJECT_MFA decreased size by 50.00 percent. 
      Compressed is 6 pages; un-compressed would require 12 pages.
NOTE: The data set WORK.PROJECT_OTHER has 248 observations and 48 variables.
NOTE: Compressing data set WORK.PROJECT_OTHER decreased size by 65.38 percent. 
      Compressed is 9 pages; un-compressed would require 26 pages.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

359        
360        proc sort data=Project_mfa;
361          by Subsidy_Info_Source_ID;
362        run;

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_MFA has 114 observations and 48 variables.
NOTE: Compressing data set WORK.PROJECT_MFA decreased size by 50.00 percent. 
      Compressed is 6 pages; un-compressed would require 12 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

363        
364        proc print data=Project_mfa;
365          where nlihc_id in ( "NL000046", "NL000040" ) or Subsidy_Info_Source_ID in ( "800003675/DC39L000069",
365      ! "800003675/DC39M000051" );;
366          id nlihc_id;
367          var Subsidy_Info_Source_ID;
368          title2 "File = Project_mfa";
369        run;

NOTE: There were 2 observations read from the data set WORK.PROJECT_MFA.
      WHERE nlihc_id in ('NL000040', 'NL000046') or Subsidy_Info_Source_ID in ('800003675/DC39L000069', 
      '800003675/DC39M000051');
28 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: The PROCEDURE PRINT printed page 12.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

370        title2;
371        
372        ** Perform update **;
373        
374        data Project_mfa_update_a;
375        
376          update
377            Project_mfa (in=in_Project)
378            Sec8MF_project_update
379              (keep=&Project_mfa_update_vars &Project_missing_info_vars
380                    &Subsidy_tech_vars /*Subsidy_Info_Source_ID Subsidy_Info_Source_Date*/ Update_Dtm);
381          by Subsidy_Info_Source_ID;
382        
383          if in_Project;
384        
385        run;

NOTE: Format $S8PGMNM was not found or could not be loaded.
NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA.
NOTE: There were 110 observations read from the data set WORK.SEC8MF_PROJECT_UPDATE.
NOTE: The data set WORK.PROJECT_MFA_UPDATE_A has 114 observations and 52 variables.
NOTE: Compressing data set WORK.PROJECT_MFA_UPDATE_A decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

386        
387        proc sort data=Project_mfa_update_a;
388          by Nlihc_id;
389        run;

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_A.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_MFA_UPDATE_A has 114 observations and 52 variables.
NOTE: Compressing data set WORK.PROJECT_MFA_UPDATE_A decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
29 The SAS System                                                                              19:08 Saturday, July 18, 2015

      cpu time            0.01 seconds
      

390        
391        data Project_mfa_update_b;
392        
393          update
394            Project_mfa_update_a (in=in_Project)
395            Project_subsidy_update
396              (keep=nlihc_id &Project_subsidy_update_vars);
397          by Nlihc_id;
398        
399          if in_Project;
400        
401        run;

NOTE: Format $S8PGMNM was not found or could not be loaded.
NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_A.
NOTE: There were 349 observations read from the data set WORK.PROJECT_SUBSIDY_UPDATE.
NOTE: The data set WORK.PROJECT_MFA_UPDATE_B has 114 observations and 52 variables.
NOTE: Compressing data set WORK.PROJECT_MFA_UPDATE_B decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

402        
403        proc print data=Project_mfa_update_b;
404          where nlihc_id in ( "NL000046", "NL000040" ) or Subsidy_Info_Source_ID in ( "800003675/DC39L000069",
404      ! "800003675/DC39M000051" );
405          id nlihc_id;
406          by nlihc_id;
407          var Subsidy_Info_Source_ID Subsidy_Info_Source_Date;
408          title2 "File = Project_mfa_update_b / NLIHC_ID=NL000046";
409        run;

NOTE: There were 2 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
      WHERE nlihc_id in ('NL000040', 'NL000046') or Subsidy_Info_Source_ID in ('800003675/DC39L000069', 
      '800003675/DC39M000051');
NOTE: The PROCEDURE PRINT printed page 13.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

30 The SAS System                                                                              19:08 Saturday, July 18, 2015

410        
411        proc print data=Project_mfa_update_b;
412          where missing( Subsidy_Info_Source_Date );
413          id nlihc_id;
414          var Subsidy_Info_Source_ID &Project_mfa_update_vars;
415          title2 "File = Project_mfa_update_b / Missing Subsidy_Info_Source_Date";
416        run;

NOTE: No observations were selected from data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: There were 0 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
      WHERE MISSING(Subsidy_Info_Source_Date);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

417        title2;
418        
419        ***** Summarize update changes *****;
420        
421        %file_info( data=Project_mfa_update_b, freqvars=Subsidy_Info_Source_Date Update_Dtm )
MPRINT(FILE_INFO):   title2 "File = Project_mfa_update_b";
MPRINT(FILE_INFO):   proc contents data=Project_mfa_update_b;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 14-15.

MPRINT(FILE_INFO):   proc print data=Project_mfa_update_b (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: The PROCEDURE PRINT printed pages 16-20.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   options nolabel;
MPRINT(FILE_INFO):   proc means data=Project_mfa_update_b n sum mean stddev min max;
MPRINT(FILE_INFO):   run;
31 The SAS System                                                                              19:08 Saturday, July 18, 2015


NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: The PROCEDURE MEANS printed page 21.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   options label;
MPRINT(FILE_INFO):   proc freq data=Project_mfa_update_b;
MPRINT(FILE_INFO):   tables Subsidy_Info_Source_Date Update_Dtm / missing;
MPRINT(FILE_INFO):   run;

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: The PROCEDURE FREQ printed page 22.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title2;
422        
423        proc sort data=Project_mfa;
424          by nlihc_id;
425        

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_MFA has 114 observations and 48 variables.
NOTE: Compressing data set WORK.PROJECT_MFA decreased size by 50.00 percent. 
      Compressed is 6 pages; un-compressed would require 12 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

426        proc compare base=Project_mfa compare=Project_mfa_update_b
427            listall /*outnoequal*/ outbase outcomp outdif maxprint=(40,32000)
428            out=Update_project_result (rename=(_type_=comp_type));
429          ****id nlihc_id Subsidy_Info_Source_ID Subsidy_Info_Source_Date;
430          id nlihc_id Subsidy_Info_Source Subsidy_Info_Source_Date Subsidy_Info_Source_ID Update_Dtm;
431          var &Project_mfa_update_vars &Project_subsidy_update_vars;
432        run;

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA.
32 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: The data set WORK.UPDATE_PROJECT_RESULT has 239 observations and 19 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_RESULT decreased size by 33.33 percent. 
      Compressed is 4 pages; un-compressed would require 6 pages.
NOTE: The PROCEDURE COMPARE printed pages 23-45.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

433        
434        proc print data=Update_project_result (obs=20) noobs;
435          id nlihc_id;
436          title2 'File = Update_project_result';
437        run;

NOTE: There were 20 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The PROCEDURE PRINT printed pages 46-49.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

438        
439        title2;
440        
441        ** Formatted compare output **;
442        
443        %Super_transpose(
444          data=Update_project_result,
445          out=Update_project_result_tr,
446          var=&Project_mfa_update_vars &Project_subsidy_update_vars,
447          id=comp_type,
448          by=nlihc_id &Subsidy_tech_vars /*Subsidy_Info_Source_ID Subsidy_Info_Source_Date*/,
449          mprint=N
450        )
NOTE: [Super_transpose] Macro starting.
NOTE: [Push_option] System option MPRINT saved.
MPRINT(SUPER_TRANSPOSE):   options nomprint;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_IDVALS has 3 observations and 1 variables.
NOTE: PROCEDURE SUMMARY used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
33 The SAS System                                                                              19:08 Saturday, July 18, 2015

      


NOTE: There were 3 observations read from the data set WORK._ST_IDVALS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

idvals=  BASE COMPARE DIF

NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_HUD_OWN_EFFECT_DT has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_HUD_OWN_EFFECT_DT decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_HUD_OWN_NAME has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_HUD_OWN_NAME decreased size by 40.00 percent. 
      Compressed is 3 pages; un-compressed would require 5 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
34 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_HUD_OWN_TYPE has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_HUD_OWN_TYPE decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_HUD_MGR_NAME has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_HUD_MGR_NAME decreased size by 40.00 percent. 
      Compressed is 3 pages; un-compressed would require 5 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_HUD_MGR_TYPE has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_HUD_MGR_TYPE decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
35 The SAS System                                                                              19:08 Saturday, July 18, 2015

      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_SUBSIDIZED has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_SUBSIDIZED decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_PROJ_UNITS_ASSIST_MIN has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_PROJ_UNITS_ASSIST_MIN decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
36 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: The data set WORK._ST_SUBSIDY_START_FIRST has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_SUBSIDY_START_FIRST decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_SUBSIDY_END_FIRST has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_SUBSIDY_END_FIRST decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_PROJ_UNITS_ASSIST_MAX has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_PROJ_UNITS_ASSIST_MAX decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
37 The SAS System                                                                              19:08 Saturday, July 18, 2015

      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_SUBSIDY_START_LAST has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_SUBSIDY_START_LAST decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 239 observations read from the data set WORK.UPDATE_PROJECT_RESULT.
NOTE: The data set WORK._ST_SUBSIDY_END_LAST has 217 observations and 8 variables.
NOTE: Compressing data set WORK._ST_SUBSIDY_END_LAST decreased size by 0.00 percent. 
      Compressed is 4 pages; un-compressed would require 4 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 217 observations read from the data set WORK._ST_HUD_OWN_EFFECT_DT.
NOTE: There were 217 observations read from the data set WORK._ST_HUD_OWN_NAME.
NOTE: There were 217 observations read from the data set WORK._ST_HUD_OWN_TYPE.
NOTE: There were 217 observations read from the data set WORK._ST_HUD_MGR_NAME.
NOTE: There were 217 observations read from the data set WORK._ST_HUD_MGR_TYPE.
NOTE: There were 217 observations read from the data set WORK._ST_SUBSIDIZED.
NOTE: There were 217 observations read from the data set WORK._ST_PROJ_UNITS_ASSIST_MIN.
NOTE: There were 217 observations read from the data set WORK._ST_SUBSIDY_START_FIRST.
NOTE: There were 217 observations read from the data set WORK._ST_SUBSIDY_END_FIRST.
NOTE: There were 217 observations read from the data set WORK._ST_PROJ_UNITS_ASSIST_MAX.
NOTE: There were 217 observations read from the data set WORK._ST_SUBSIDY_START_LAST.
NOTE: There were 217 observations read from the data set WORK._ST_SUBSIDY_END_LAST.
NOTE: The data set WORK.UPDATE_PROJECT_RESULT_TR has 217 observations and 41 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_RESULT_TR decreased size by 54.55 percent. 
      Compressed is 5 pages; un-compressed would require 11 pages.
38 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      

NOTE: [Pop_option] System option MPRINT restored.
NOTE: [Super_transpose] Macro exiting.
451        
452        %file_info( data=Update_project_result_tr, printobs=10, stats= )
MPRINT(FILE_INFO):   title2 "File = Update_project_result_tr";
MPRINT(FILE_INFO):   proc contents data=Update_project_result_tr;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 50-51.

MPRINT(FILE_INFO):   proc print data=Update_project_result_tr (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set WORK.UPDATE_PROJECT_RESULT_TR.
NOTE: The PROCEDURE PRINT printed pages 52-54.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
453        
454        
455        ******** Apply exception file ************;
456        
457        proc sort data=Project_except_test_norm;
458          by nlihc_id;
459        

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_NORM.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_EXCEPT_TEST_NORM has 4 observations and 6 variables.
NOTE: Compressing data set WORK.PROJECT_EXCEPT_TEST_NORM increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: PROCEDURE SORT used (Total process time):
39 The SAS System                                                                              19:08 Saturday, July 18, 2015

      real time           0.00 seconds
      cpu time            0.00 seconds
      

460        data Project_mfa_except;
461        
462          update Project_mfa_update_b (in=in1) Project_except_test_norm;
463          by nlihc_id;
464        
465          if in1;
466        
467        run;

NOTE: Format $S8PGMNM was not found or could not be loaded.
NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_NORM.
NOTE: The data set WORK.PROJECT_MFA_EXCEPT has 114 observations and 52 variables.
NOTE: Compressing data set WORK.PROJECT_MFA_EXCEPT decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

468        
469        %File_info( data=Project_mfa_except, printobs=10, stats= )
MPRINT(FILE_INFO):   title2 "File = Project_mfa_except";
MPRINT(FILE_INFO):   proc contents data=Project_mfa_except;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 55-56.

MPRINT(FILE_INFO):   proc print data=Project_mfa_except (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set WORK.PROJECT_MFA_EXCEPT.
NOTE: The PROCEDURE PRINT printed pages 57-61.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
40 The SAS System                                                                              19:08 Saturday, July 18, 2015


MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
470        
471        /*
472        proc print data=Project_mfa_except;
473          where nlihc_id in ( 'NL000001' );
474          id nlihc_id subsidy_id;
475          title2 "File = Project_mfa_except";
476        run;
477        title2;
478        */
479        
480        data Project_except_test_b;
481        
482          set Project_except_test_norm;
483        
484          retain comp_type 'EXCEPT';
485        
486        run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_NORM.
NOTE: The data set WORK.PROJECT_EXCEPT_TEST_B has 4 observations and 7 variables.
NOTE: Compressing data set WORK.PROJECT_EXCEPT_TEST_B increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

487        
488        proc print data=Project_except_test_b (obs=10) noobs;
489          id nlihc_id;
490          title2 'File = Project_except_test_b';
491        run;

NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The PROCEDURE PRINT printed page 62.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

492        
493        title2;
494        
41 The SAS System                                                                              19:08 Saturday, July 18, 2015

495        ** Formatted compare output **;
496        
497        %Super_transpose(
498          data=Project_except_test_b,
499          out=Update_project_except_tr,
500          var=&Project_mfa_update_vars,
501          id=comp_type,
502          by=nlihc_id,
503          mprint=N
504        )
NOTE: [Super_transpose] Macro starting.
NOTE: [Push_option] System option MPRINT saved.
MPRINT(SUPER_TRANSPOSE):   options nomprint;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_IDVALS has 1 observations and 1 variables.
NOTE: PROCEDURE SUMMARY used (Total process time):
      real time           0.01 seconds
      cpu time            0.04 seconds
      


NOTE: There were 1 observations read from the data set WORK._ST_IDVALS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

idvals=  EXCEPT

NOTE: There were 1 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_HUD_OWN_EFFECT_DT has 4 observations and 2 variables.
NOTE: Compressing data set WORK._ST_HUD_OWN_EFFECT_DT increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
42 The SAS System                                                                              19:08 Saturday, July 18, 2015



NOTE: There were 1 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_HUD_OWN_NAME has 4 observations and 2 variables.
NOTE: Compressing data set WORK._ST_HUD_OWN_NAME increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: Compression was disabled for data set WORK._ST_HUD_OWN_TYPE because compression overhead would increase the size of 
      the data set.
NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_HUD_OWN_TYPE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_HUD_MGR_NAME has 4 observations and 2 variables.
NOTE: Compressing data set WORK._ST_HUD_MGR_NAME increased size by 100.00 percent. 
43 The SAS System                                                                              19:08 Saturday, July 18, 2015

      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: Compression was disabled for data set WORK._ST_HUD_MGR_TYPE because compression overhead would increase the size of 
      the data set.
NOTE: There were 4 observations read from the data set WORK.PROJECT_EXCEPT_TEST_B.
NOTE: The data set WORK._ST_HUD_MGR_TYPE has 4 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK._ST_HUD_OWN_EFFECT_DT.
NOTE: There were 4 observations read from the data set WORK._ST_HUD_OWN_NAME.
NOTE: There were 4 observations read from the data set WORK._ST_HUD_OWN_TYPE.
NOTE: There were 4 observations read from the data set WORK._ST_HUD_MGR_NAME.
NOTE: There were 4 observations read from the data set WORK._ST_HUD_MGR_TYPE.
NOTE: The data set WORK.UPDATE_PROJECT_EXCEPT_TR has 4 observations and 6 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_EXCEPT_TR increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

NOTE: [Pop_option] System option MPRINT restored.
NOTE: [Super_transpose] Macro exiting.
505        
506        %file_info( data=Update_project_except_tr, printobs=10, stats= )
MPRINT(FILE_INFO):   title2 "File = Update_project_except_tr";
MPRINT(FILE_INFO):   proc contents data=Update_project_except_tr;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
44 The SAS System                                                                              19:08 Saturday, July 18, 2015

      real time           0.00 seconds
      cpu time            0.01 seconds
      
NOTE: The PROCEDURE CONTENTS printed page 63.

MPRINT(FILE_INFO):   proc print data=Update_project_except_tr (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 4 observations read from the data set WORK.UPDATE_PROJECT_EXCEPT_TR.
NOTE: The PROCEDURE PRINT printed page 64.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
507        
508        ** Combine update and exception changes **;
509        
510        data Update_project_result_except_tr;
511        
512          merge Update_project_result_tr Update_project_except_tr;
513          by nlihc_id;
514        
515          ** Add category codes for report **;
516        
517          length Category_code $ 1;
518        
519          Category_code = put( nlihc_id, $nlihcid2cat. );
520        
521          format Category_code $categry.;
522        
523        run;

NOTE: There were 217 observations read from the data set WORK.UPDATE_PROJECT_RESULT_TR.
NOTE: There were 4 observations read from the data set WORK.UPDATE_PROJECT_EXCEPT_TR.
NOTE: The data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR has 217 observations and 47 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

45 The SAS System                                                                              19:08 Saturday, July 18, 2015

524        
525        %File_info( data=Update_project_result_except_tr, stats=, printobs=0 )
MPRINT(FILE_INFO):   title2 "File = Update_project_result_except_tr";
MPRINT(FILE_INFO):   proc contents data=Update_project_result_except_tr;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 65-66.

MPRINT(FILE_INFO):   title2;
526        
527        proc print data=Update_project_result_except_tr;
528          where nlihc_id in ( 'NL000029' );
529          id nlihc_id;
530          title2 "File = Update_project_result_except_tr";
531        run;

NOTE: There were 2 observations read from the data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR.
      WHERE nlihc_id='NL000029';
NOTE: The PROCEDURE PRINT printed pages 67-68.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

532        title2;
533        
534        
535        ** Recombine with other subsidy data, project category file **;
536        
537        data Project_Update_all;
538        
539          set
540            Project_mfa_except
541            Project_other;
542          by nlihc_id;
543        
544          where not( missing( nlihc_id ) );
545        
546          drop Subsidy_Info_Source_ID contract_number
547               program_type_name property_name_text address_line1_text
548               Subsidy_Info_Source_Date;
549        
46 The SAS System                                                                              19:08 Saturday, July 18, 2015

550        run;

NOTE: Format $S8PGMNM was not found or could not be loaded.
NOTE: There were 114 observations read from the data set WORK.PROJECT_MFA_EXCEPT.
      WHERE not MISSING(nlihc_id);
NOTE: There were 248 observations read from the data set WORK.PROJECT_OTHER.
      WHERE not MISSING(nlihc_id);
NOTE: The data set WORK.PROJECT_UPDATE_ALL has 362 observations and 46 variables.
NOTE: Compressing data set WORK.PROJECT_UPDATE_ALL decreased size by 61.76 percent. 
      Compressed is 13 pages; un-compressed would require 34 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

551        
552        ** Update project categories **;
553        
554        proc sort data=PresCat.Project_category out=Project_category;
555          by nlihc_id;
556        run;

NOTE: There were 362 observations read from the data set PRESCAT.PROJECT_CATEGORY.
NOTE: SAS sort was used.
NOTE: The data set WORK.PROJECT_CATEGORY has 362 observations and 6 variables.
NOTE: Compressing data set WORK.PROJECT_CATEGORY increased size by 33.33 percent. 
      Compressed is 4 pages; un-compressed would require 3 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

557        
558        data Project_Update_&Update_file;
559        
560          update
561            Project_Update_all (in=in1)
562            Project_category
563              updatemode=nomissingcheck;
564          by nlihc_id;
565        
566          if in1;
567        
568        run;

NOTE: There were 362 observations read from the data set WORK.PROJECT_UPDATE_ALL.
47 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: There were 362 observations read from the data set WORK.PROJECT_CATEGORY.
NOTE: The data set WORK.PROJECT_UPDATE_SEC8MF_2014_11 has 362 observations and 46 variables.
NOTE: Compressing data set WORK.PROJECT_UPDATE_SEC8MF_2014_11 decreased size by 61.76 percent. 
      Compressed is 13 pages; un-compressed would require 34 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

569        
570        %File_info( data=Project_Update_&Update_file, freqvars=Category_code )
MPRINT(FILE_INFO):   title2 "File = Project_Update_Sec8MF_2014_11";
MPRINT(FILE_INFO):   proc contents data=Project_Update_Sec8MF_2014_11;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 69-70.

MPRINT(FILE_INFO):   proc print data=Project_Update_Sec8MF_2014_11 (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set WORK.PROJECT_UPDATE_SEC8MF_2014_11.
NOTE: The PROCEDURE PRINT printed pages 71-75.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   options nolabel;
MPRINT(FILE_INFO):   proc means data=Project_Update_Sec8MF_2014_11 n sum mean stddev min max;
MPRINT(FILE_INFO):   run;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 362 observations read from the data set WORK.PROJECT_UPDATE_SEC8MF_2014_11.
NOTE: The PROCEDURE MEANS printed page 76.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   options label;
48 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(FILE_INFO):   proc freq data=Project_Update_Sec8MF_2014_11;
MPRINT(FILE_INFO):   tables Category_code / missing;
MPRINT(FILE_INFO):   run;

NOTE: There were 362 observations read from the data set WORK.PROJECT_UPDATE_SEC8MF_2014_11.
NOTE: The PROCEDURE FREQ printed page 77.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title2;
571        
572        /*
573        proc print data=Project_Update_&Update_file;
574          where nlihc_id in ( "NL001030", "NL001031", "NL001032", "NL001033" );
575          id nlihc_id;
576          title2 "File = Project_Update_&Update_file";
577        run;
578        title2;
579        */
580        
581        proc compare base=PresCat.Project compare=Project_Update_&Update_file maxprint=(40,32000) listall;
582          id nlihc_id;
583        run;

NOTE: There were 362 observations read from the data set PRESCAT.PROJECT.
NOTE: There were 362 observations read from the data set WORK.PROJECT_UPDATE_SEC8MF_2014_11.
NOTE: At least one W.D format was too small for the number to be printed. The decimal may be shifted by the "BEST" format.
NOTE: The PROCEDURE COMPARE printed pages 78-87.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

584        
585        
586        ***** Write final file *****;
587        
588        ***** Add record to Update_project_history  *****;
589        
590        %Update_history_recs( data=Update_project_result_except_tr, out=Update_project_history_recs,
590      ! Update_vars=&Project_mfa_update_vars )
MPRINT(UPDATE_HISTORY_RECS):   ***** Add record to Update_subsidy_history *****;
NOTE: [ListChangeDelim] Processing list=Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
NOTE: [ListChangeDelim] New list=Hud_Own_Effect_dt_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF Hud_Mgr_Name_DIF Hud_Mgr_Type_DIF
49 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: [ListChangeDelim] Processing list=Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
NOTE: [ListChangeDelim] New list=Hud_Own_Effect_dt_BASE Hud_Own_Name_BASE Hud_Own_Type_BASE Hud_Mgr_Name_BASE 
Hud_Mgr_Type_BASE
NOTE: [ListChangeDelim] Processing list=Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
NOTE: [ListChangeDelim] New list=Hud_Own_Effect_dt_COMPARE Hud_Own_Name_COMPARE Hud_Own_Type_COMPARE Hud_Mgr_Name_COMPARE 
Hud_Mgr_Type_COMPARE
NOTE: [ListChangeDelim] Processing list=Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
NOTE: [ListChangeDelim] New list=Hud_Own_Effect_dt_EXCEPT Hud_Own_Name_EXCEPT Hud_Own_Type_EXCEPT Hud_Mgr_Name_EXCEPT 
Hud_Mgr_Type_EXCEPT
MPRINT(UPDATE_HISTORY_RECS):   ** Separate lists of numeric and character vars **;
MPRINT(UPDATE_HISTORY_RECS):   proc sql noprint;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_dif_char separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='char' and indexw( "HUD_OWN_EFFECT_DT_DIF 
HUD_OWN_NAME_DIF HUD_OWN_TYPE_DIF HUD_MGR_NAME_DIF HUD_MGR_TYPE_DIF", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_dif_num separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='num' and indexw( "HUD_OWN_EFFECT_DT_DIF 
HUD_OWN_NAME_DIF HUD_OWN_TYPE_DIF HUD_MGR_NAME_DIF HUD_MGR_TYPE_DIF", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_base_char separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='char' and indexw( "HUD_OWN_EFFECT_DT_BASE 
HUD_OWN_NAME_BASE HUD_OWN_TYPE_BASE HUD_MGR_NAME_BASE HUD_MGR_TYPE_BASE", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_base_num separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='num' and indexw( "HUD_OWN_EFFECT_DT_BASE 
HUD_OWN_NAME_BASE HUD_OWN_TYPE_BASE HUD_MGR_NAME_BASE HUD_MGR_TYPE_BASE", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_compare_char separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='char' and indexw( "HUD_OWN_EFFECT_DT_COMPARE 
HUD_OWN_NAME_COMPARE HUD_OWN_TYPE_COMPARE HUD_MGR_NAME_COMPARE HUD_MGR_TYPE_COMPARE", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_compare_num separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='num' and indexw( "HUD_OWN_EFFECT_DT_COMPARE 
HUD_OWN_NAME_COMPARE HUD_OWN_TYPE_COMPARE HUD_MGR_NAME_COMPARE HUD_MGR_TYPE_COMPARE", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_except_char separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='char' and indexw( "HUD_OWN_EFFECT_DT_EXCEPT 
HUD_OWN_NAME_EXCEPT HUD_OWN_TYPE_EXCEPT HUD_MGR_NAME_EXCEPT HUD_MGR_TYPE_EXCEPT", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   select distinct name into :Update_vars_except_num separated by ' ' from dictionary.columns 
where libname="WORK" and memname="UPDATE_PROJECT_RESULT_EXCEPT_TR" and type='num' and indexw( "HUD_OWN_EFFECT_DT_EXCEPT 
HUD_OWN_NAME_EXCEPT HUD_OWN_TYPE_EXCEPT HUD_MGR_NAME_EXCEPT HUD_MGR_TYPE_EXCEPT", upcase( name ) ) > 0;
MPRINT(UPDATE_HISTORY_RECS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

UPDATE_HISTORY_RECS DATA Update_project_result_except_tr
UPDATE_HISTORY_RECS OUT Update_project_history_recs
UPDATE_HISTORY_RECS UPDATE_VARS Hud_Own_Effect_dt Hud_Own_Name Hud_Own_Type Hud_Mgr_Name     Hud_Mgr_Type
UPDATE_HISTORY_RECS UPDATE_VARS_DIF Hud_Own_Effect_dt_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF Hud_Mgr_Name_DIF 
Hud_Mgr_Type_DIF
50 The SAS System                                                                              19:08 Saturday, July 18, 2015

UPDATE_HISTORY_RECS UPDATE_VARS_BASE Hud_Own_Effect_dt_BASE Hud_Own_Name_BASE Hud_Own_Type_BASE Hud_Mgr_Name_BASE 
Hud_Mgr_Type_BASE
UPDATE_HISTORY_RECS UPDATE_VARS_COMPARE Hud_Own_Effect_dt_COMPARE Hud_Own_Name_COMPARE Hud_Own_Type_COMPARE 
Hud_Mgr_Name_COMPARE Hud_Mgr_Type_COMPARE
UPDATE_HISTORY_RECS UPDATE_VARS_EXCEPT Hud_Own_Effect_dt_EXCEPT Hud_Own_Name_EXCEPT Hud_Own_Type_EXCEPT 
Hud_Mgr_Name_EXCEPT Hud_Mgr_Type_EXCEPT
UPDATE_HISTORY_RECS UPDATE_VARS_DIF_CHAR Hud_Mgr_Name_DIF Hud_Mgr_Type_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF
UPDATE_HISTORY_RECS UPDATE_VARS_DIF_NUM Hud_Own_Effect_dt_DIF
UPDATE_HISTORY_RECS UPDATE_VARS_BASE_CHAR Hud_Mgr_Name_BASE Hud_Mgr_Type_BASE Hud_Own_Name_BASE Hud_Own_Type_BASE
UPDATE_HISTORY_RECS UPDATE_VARS_BASE_NUM Hud_Own_Effect_dt_BASE
UPDATE_HISTORY_RECS UPDATE_VARS_COMPARE_CHAR Hud_Mgr_Name_COMPARE Hud_Mgr_Type_COMPARE Hud_Own_Name_COMPARE 
Hud_Own_Type_COMPARE
UPDATE_HISTORY_RECS UPDATE_VARS_COMPARE_NUM Hud_Own_Effect_dt_COMPARE
UPDATE_HISTORY_RECS UPDATE_VARS_EXCEPT_CHAR Hud_Mgr_Name_EXCEPT Hud_Mgr_Type_EXCEPT Hud_Own_Name_EXCEPT Hud_Own_Type_EXCEPT
UPDATE_HISTORY_RECS UPDATE_VARS_EXCEPT_NUM Hud_Own_Effect_dt_EXCEPT
MPRINT(UPDATE_HISTORY_RECS):   data Update_project_history_recs;
MPRINT(UPDATE_HISTORY_RECS):   set Update_project_result_except_tr;
MPRINT(UPDATE_HISTORY_RECS):   format Hud_Own_Effect_dt_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF Hud_Mgr_Name_DIF 
Hud_Mgr_Type_DIF ;
MPRINT(UPDATE_HISTORY_RECS):   array difnum{*} Hud_Own_Effect_dt_DIF;
MPRINT(UPDATE_HISTORY_RECS):   array difchar{*} Hud_Mgr_Name_DIF Hud_Mgr_Type_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF;
MPRINT(UPDATE_HISTORY_RECS):   array compchar{*} Hud_Mgr_Name_COMPARE Hud_Mgr_Type_COMPARE Hud_Own_Name_COMPARE 
Hud_Own_Type_COMPARE;
MPRINT(UPDATE_HISTORY_RECS):   array compnum{*} Hud_Own_Effect_dt_COMPARE;
MPRINT(UPDATE_HISTORY_RECS):   array basechar{*} Hud_Mgr_Name_BASE Hud_Mgr_Type_BASE Hud_Own_Name_BASE Hud_Own_Type_BASE;
MPRINT(UPDATE_HISTORY_RECS):   array basenum{*} Hud_Own_Effect_dt_BASE;
MPRINT(UPDATE_HISTORY_RECS):   array exceptchar{*} Hud_Mgr_Name_EXCEPT Hud_Mgr_Type_EXCEPT Hud_Own_Name_EXCEPT 
Hud_Own_Type_EXCEPT;
MPRINT(UPDATE_HISTORY_RECS):   array exceptnum{*} Hud_Own_Effect_dt_EXCEPT;
MPRINT(UPDATE_HISTORY_RECS):   Write = 0;
MPRINT(UPDATE_HISTORY_RECS):   do i = 1 to dim( difnum );
MPRINT(UPDATE_HISTORY_RECS):   if not( missing( compnum{i} ) or not( abs( difnum{i} ) > 0 ) ) or not( missing( exceptnum{i} 
) ) then do;
MPRINT(UPDATE_HISTORY_RECS):   Write = 1;
MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   else do;
MPRINT(UPDATE_HISTORY_RECS):   basenum{i} = .;
MPRINT(UPDATE_HISTORY_RECS):   compnum{i} = .;
MPRINT(UPDATE_HISTORY_RECS):   exceptnum{i} = .;
MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   do i = 1 to dim( difchar );
MPRINT(UPDATE_HISTORY_RECS):   difchar{i} = compress( difchar{i}, "." );
MPRINT(UPDATE_HISTORY_RECS):   if not( missing( compchar{i} ) or not( abs( difchar{i} ) > 0 ) ) or not( missing( 
exceptchar{i} ) ) then do;
MPRINT(UPDATE_HISTORY_RECS):   Write = 1;
51 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   else do;
MPRINT(UPDATE_HISTORY_RECS):   basechar{i} = "";
MPRINT(UPDATE_HISTORY_RECS):   compchar{i} = "";
MPRINT(UPDATE_HISTORY_RECS):   exceptchar{i} = "";
MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   end;
MPRINT(UPDATE_HISTORY_RECS):   if Write;
MPRINT(UPDATE_HISTORY_RECS):   drop i Write Category_code Hud_Own_Effect_dt_DIF Hud_Own_Name_DIF Hud_Own_Type_DIF 
Hud_Mgr_Name_DIF Hud_Mgr_Type_DIF;
MPRINT(UPDATE_HISTORY_RECS):   run;

NOTE: Character values have been converted to numeric values at the places given by: (Line):(Column).
      590:125   
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      209 at 590:37    868 at 590:120   
NOTE: There were 217 observations read from the data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR.
NOTE: The data set WORK.UPDATE_PROJECT_HISTORY_RECS has 7 observations and 41 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_HISTORY_RECS increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title2 "File = Update_project_history_recs";
MPRINT(FILE_INFO):   proc contents data=Update_project_history_recs;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 88-89.

MPRINT(FILE_INFO):   proc print data=Update_project_history_recs (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 7 observations read from the data set WORK.UPDATE_PROJECT_HISTORY_RECS.
NOTE: The PROCEDURE PRINT printed pages 90-91.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
52 The SAS System                                                                              19:08 Saturday, July 18, 2015


MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
591        
592        data Update_project_history_del;
593        
594          set PresCat.Update_project_history;
595        
596          if Subsidy_info_source = &Subsidy_info_source and Subsidy_info_source_date = &Subsidy_Info_Source_Date then
596      ! delete;
597        
598        run;

NOTE: There were 0 observations read from the data set PRESCAT.UPDATE_PROJECT_HISTORY.
NOTE: The data set WORK.UPDATE_PROJECT_HISTORY_DEL has 0 observations and 19 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

599        
600        data Update_project_history;
601        
602          update updatemode=nomissingcheck
603            Update_project_history_del
604            Update_project_history_recs;
605          by Nlihc_id Subsidy_info_source Subsidy_info_source_date;
606        
607        run;

NOTE: There were 0 observations read from the data set WORK.UPDATE_PROJECT_HISTORY_DEL.
NOTE: There were 7 observations read from the data set WORK.UPDATE_PROJECT_HISTORY_RECS.
NOTE: The data set WORK.UPDATE_PROJECT_HISTORY has 4 observations and 41 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_HISTORY increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

608        
609        %File_info( data=Update_project_history, stats= )
MPRINT(FILE_INFO):   title2 "File = Update_project_history";
MPRINT(FILE_INFO):   proc contents data=Update_project_history;
MPRINT(FILE_INFO):   run;

53 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 92-93.

MPRINT(FILE_INFO):   proc print data=Update_project_history (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 4 observations read from the data set WORK.UPDATE_PROJECT_HISTORY.
NOTE: The PROCEDURE PRINT printed pages 94-95.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   title2;
610        
611        
612        ***** Create update report *****;
613        
614        /** Macro Write_var - Start Definition **/
615        
616        %macro Write_var( var=, fmt=comma8.0, lbl=, typ=n, except=y );
617        
618          %if &lbl = %then %do;
619            Var = "&var";
620          %end;
621          %else %do;
622            Var = &lbl;
623          %end;
624        
625          Old_value = put( &var._Base, &fmt );
626        
627          %if %upcase( &typ ) = N %then %do;
628        
629            if missing( &var._Compare ) or not( abs( &var._DIF ) > 0 ) then New_value = "-";
630            else New_value = put( &var._Compare, &fmt );
631        
632          %end;
633          %else %do;
634        
635            &var._DIF = compress( &var._DIF, '.' );
636        
54 The SAS System                                                                              19:08 Saturday, July 18, 2015

637            if missing( &var._Compare ) or missing( &var._DIF ) then New_value = "-";
638            else New_value = put( &var._Compare, &fmt );
639        
640          %end;
641        
642          %if %upcase( &except ) = Y %then %do;
643        
644            if missing( &var._EXCEPT ) then Except_value = "-";
645            else Except_value = put( &var._EXCEPT, &fmt );
646        
647            if New_value ~= "-" or Except_value ~= "-" then output;
648        
649          %end;
650          %else %do;
651        
652            Except_value = "n/a";
653            if New_value ~= "-" then output;
654        
655          %end;
656        
657        %mend Write_var;
658        
659        /** End Macro Definition **/
660        
661        proc sort data=Update_project_result_except_tr;
662          by Category_code nlihc_id;
663        run;

NOTE: There were 217 observations read from the data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR.
NOTE: SAS sort was used.
NOTE: The data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR has 217 observations and 47 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR decreased size by 57.14 percent. 
      Compressed is 6 pages; un-compressed would require 14 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

664        
665        proc print data=Update_project_result_except_tr;
666          where nlihc_id in ( "NL000046" );
667          var Hud_Own_Name: ;
668          id nlihc_id;
669        run;

NOTE: There were 2 observations read from the data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR.
55 The SAS System                                                                              19:08 Saturday, July 18, 2015

      WHERE nlihc_id='NL000046';
NOTE: The PROCEDURE PRINT printed page 96.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

670        
671        data Update_project_result_report;
672        
673          set Update_project_result_except_tr;
674        
675            ****WHERE NLIHC_ID IN ( "NL000046" );
676        
677          length Var $ 32 Old_value New_value Except_value $ 80;
678        
679          %Write_var( var=Hud_Own_Effect_dt, fmt=mmddyy10., lbl="Date owner acquired property" )
MPRINT(WRITE_VAR):   Var = "Date owner acquired property";
MPRINT(WRITE_VAR):   Old_value = put( Hud_Own_Effect_dt_Base, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Effect_dt_Compare ) or not( abs( Hud_Own_Effect_dt_DIF ) > 0 ) then New_value = 
"-";
MPRINT(WRITE_VAR):   else New_value = put( Hud_Own_Effect_dt_Compare, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Effect_dt_EXCEPT ) then Except_value = "-";
MPRINT(WRITE_VAR):   else Except_value = put( Hud_Own_Effect_dt_EXCEPT, mmddyy10. );
MPRINT(WRITE_VAR):   if New_value ~= "-" or Except_value ~= "-" then output;
680          %Write_var( var=Hud_Own_Name, fmt=$80., lbl="Owner name", typ=c )
MPRINT(WRITE_VAR):   Var = "Owner name";
MPRINT(WRITE_VAR):   Old_value = put( Hud_Own_Name_Base, $80. );
MPRINT(WRITE_VAR):   Hud_Own_Name_DIF = compress( Hud_Own_Name_DIF, '.' );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Name_Compare ) or missing( Hud_Own_Name_DIF ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Hud_Own_Name_Compare, $80. );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Name_EXCEPT ) then Except_value = "-";
MPRINT(WRITE_VAR):   else Except_value = put( Hud_Own_Name_EXCEPT, $80. );
MPRINT(WRITE_VAR):   if New_value ~= "-" or Except_value ~= "-" then output;
681          %Write_var( var=Hud_Own_Type, fmt=$ownmgrtype., lbl="Owner type", typ=c )
MPRINT(WRITE_VAR):   Var = "Owner type";
MPRINT(WRITE_VAR):   Old_value = put( Hud_Own_Type_Base, $ownmgrtype. );
MPRINT(WRITE_VAR):   Hud_Own_Type_DIF = compress( Hud_Own_Type_DIF, '.' );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Type_Compare ) or missing( Hud_Own_Type_DIF ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Hud_Own_Type_Compare, $ownmgrtype. );
MPRINT(WRITE_VAR):   if missing( Hud_Own_Type_EXCEPT ) then Except_value = "-";
MPRINT(WRITE_VAR):   else Except_value = put( Hud_Own_Type_EXCEPT, $ownmgrtype. );
MPRINT(WRITE_VAR):   if New_value ~= "-" or Except_value ~= "-" then output;
682          %Write_var( var=Hud_Mgr_Name, fmt=$80., lbl="Manager name", typ=c )
MPRINT(WRITE_VAR):   Var = "Manager name";
MPRINT(WRITE_VAR):   Old_value = put( Hud_Mgr_Name_Base, $80. );
56 The SAS System                                                                              19:08 Saturday, July 18, 2015

MPRINT(WRITE_VAR):   Hud_Mgr_Name_DIF = compress( Hud_Mgr_Name_DIF, '.' );
MPRINT(WRITE_VAR):   if missing( Hud_Mgr_Name_Compare ) or missing( Hud_Mgr_Name_DIF ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Hud_Mgr_Name_Compare, $80. );
MPRINT(WRITE_VAR):   if missing( Hud_Mgr_Name_EXCEPT ) then Except_value = "-";
MPRINT(WRITE_VAR):   else Except_value = put( Hud_Mgr_Name_EXCEPT, $80. );
MPRINT(WRITE_VAR):   if New_value ~= "-" or Except_value ~= "-" then output;
683          %Write_var( var=Hud_Mgr_Type, fmt=$ownmgrtype., lbl="Manager type", typ=c )
MPRINT(WRITE_VAR):   Var = "Manager type";
MPRINT(WRITE_VAR):   Old_value = put( Hud_Mgr_Type_Base, $ownmgrtype. );
MPRINT(WRITE_VAR):   Hud_Mgr_Type_DIF = compress( Hud_Mgr_Type_DIF, '.' );
MPRINT(WRITE_VAR):   if missing( Hud_Mgr_Type_Compare ) or missing( Hud_Mgr_Type_DIF ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Hud_Mgr_Type_Compare, $ownmgrtype. );
MPRINT(WRITE_VAR):   if missing( Hud_Mgr_Type_EXCEPT ) then Except_value = "-";
MPRINT(WRITE_VAR):   else Except_value = put( Hud_Mgr_Type_EXCEPT, $ownmgrtype. );
MPRINT(WRITE_VAR):   if New_value ~= "-" or Except_value ~= "-" then output;
684          %Write_var( var=Subsidized, lbl="Subsidized", except=n )
MPRINT(WRITE_VAR):   Var = "Subsidized";
MPRINT(WRITE_VAR):   Old_value = put( Subsidized_Base, comma8.0 );
MPRINT(WRITE_VAR):   if missing( Subsidized_Compare ) or not( abs( Subsidized_DIF ) > 0 ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Subsidized_Compare, comma8.0 );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
685          %Write_var( var=Proj_Units_Assist_Min, lbl="Assisted units (min)", except=n )
MPRINT(WRITE_VAR):   Var = "Assisted units (min)";
MPRINT(WRITE_VAR):   Old_value = put( Proj_Units_Assist_Min_Base, comma8.0 );
MPRINT(WRITE_VAR):   if missing( Proj_Units_Assist_Min_Compare ) or not( abs( Proj_Units_Assist_Min_DIF ) > 0 ) then 
New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Proj_Units_Assist_Min_Compare, comma8.0 );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
686          %Write_var( var=Proj_Units_Assist_Max, lbl="Assisted units (max)", except=n )
MPRINT(WRITE_VAR):   Var = "Assisted units (max)";
MPRINT(WRITE_VAR):   Old_value = put( Proj_Units_Assist_Max_Base, comma8.0 );
MPRINT(WRITE_VAR):   if missing( Proj_Units_Assist_Max_Compare ) or not( abs( Proj_Units_Assist_Max_DIF ) > 0 ) then 
New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Proj_Units_Assist_Max_Compare, comma8.0 );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
687          %Write_var( var=Subsidy_Start_First, fmt=mmddyy10., lbl="Subsidy start (first)", except=n )
MPRINT(WRITE_VAR):   Var = "Subsidy start (first)";
MPRINT(WRITE_VAR):   Old_value = put( Subsidy_Start_First_Base, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Subsidy_Start_First_Compare ) or not( abs( Subsidy_Start_First_DIF ) > 0 ) then New_value 
= "-";
MPRINT(WRITE_VAR):   else New_value = put( Subsidy_Start_First_Compare, mmddyy10. );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
57 The SAS System                                                                              19:08 Saturday, July 18, 2015

688          %Write_var( var=Subsidy_Start_Last, fmt=mmddyy10., lbl="Subsidy start (last)", except=n )
MPRINT(WRITE_VAR):   Var = "Subsidy start (last)";
MPRINT(WRITE_VAR):   Old_value = put( Subsidy_Start_Last_Base, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Subsidy_Start_Last_Compare ) or not( abs( Subsidy_Start_Last_DIF ) > 0 ) then New_value = 
"-";
MPRINT(WRITE_VAR):   else New_value = put( Subsidy_Start_Last_Compare, mmddyy10. );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
689          %Write_var( var=Subsidy_End_First, fmt=mmddyy10., lbl="Subsidy end (first)", except=n )
MPRINT(WRITE_VAR):   Var = "Subsidy end (first)";
MPRINT(WRITE_VAR):   Old_value = put( Subsidy_End_First_Base, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Subsidy_End_First_Compare ) or not( abs( Subsidy_End_First_DIF ) > 0 ) then New_value = 
"-";
MPRINT(WRITE_VAR):   else New_value = put( Subsidy_End_First_Compare, mmddyy10. );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
690          %Write_var( var=Subsidy_End_Last, fmt=mmddyy10., lbl="Subsidy end (last)", except=n )
MPRINT(WRITE_VAR):   Var = "Subsidy end (last)";
MPRINT(WRITE_VAR):   Old_value = put( Subsidy_End_Last_Base, mmddyy10. );
MPRINT(WRITE_VAR):   if missing( Subsidy_End_Last_Compare ) or not( abs( Subsidy_End_Last_DIF ) > 0 ) then New_value = "-";
MPRINT(WRITE_VAR):   else New_value = put( Subsidy_End_Last_Compare, mmddyy10. );
MPRINT(WRITE_VAR):   Except_value = "n/a";
MPRINT(WRITE_VAR):   if New_value ~= "-" then output;
691        
692          keep category_code nlihc_id
693               Var Old_value New_value Except_value;
694        
695        run;

NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      209 at 679:45   206 at 684:45   206 at 685:45   206 at 686:45   206 at 687:45   206 at 688:45   206 at 689:45
      206 at 690:45   
NOTE: There were 217 observations read from the data set WORK.UPDATE_PROJECT_RESULT_EXCEPT_TR.
NOTE: The data set WORK.UPDATE_PROJECT_RESULT_REPORT has 7 observations and 6 variables.
NOTE: Compressing data set WORK.UPDATE_PROJECT_RESULT_REPORT increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

696        
697        /***%File_info( data=Update_project_result_report, printobs=200, contents=n, stats= )***/
698        
699        %Data_to_format(
58 The SAS System                                                                              19:08 Saturday, July 18, 2015

700          FmtLib=work,
701          FmtName=$nlihcid_proj,
702          Desc=,
703          Data=PresCat.Project (where=(not(missing(nlihc_id)))),
704          Value=nlihc_id,
705          Label=trim(nlihc_id)||' / '||left(proj_name),
706          OtherLabel='** Unidentified project **',
707          DefaultLen=.,
708          MaxLen=.,
709          MinLen=.,
710          Print=N,
711          Contents=N
712          )
NOTE: [Data_to_format] Starting macro.
MPRINT(DATA_TO_FORMAT):   data _cntlin (compress=no);
MPRINT(DATA_TO_FORMAT):   length hlo $ 8;
MPRINT(DATA_TO_FORMAT):   retain fmtname "$nlihcid_proj" type "C" default . max . min .;
MPRINT(DATA_TO_FORMAT):   retain hlo " ";
MPRINT(DATA_TO_FORMAT):   set PresCat.Project (where=(not(missing(nlihc_id)))) end=last;
MPRINT(DATA_TO_FORMAT):   label = trim(nlihc_id)||' / '||left(proj_name);
MPRINT(DATA_TO_FORMAT):   start = nlihc_id;
MPRINT(DATA_TO_FORMAT):   output;
MPRINT(DATA_TO_FORMAT):   if last then do;
MPRINT(DATA_TO_FORMAT):   hlo = trim( hlo ) || 'o';
MPRINT(DATA_TO_FORMAT):   label = '** Unidentified project **';
MPRINT(DATA_TO_FORMAT):   output;
MPRINT(DATA_TO_FORMAT):   end;
MPRINT(DATA_TO_FORMAT):   keep fmtname type hlo label start default max min;
MPRINT(DATA_TO_FORMAT):   run;

NOTE: There were 362 observations read from the data set PRESCAT.PROJECT.
      WHERE not MISSING(nlihc_id);
NOTE: The data set WORK._CNTLIN has 363 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      

MPRINT(DATA_TO_FORMAT):   proc format library=work cntlin=_cntlin;
NOTE: Format $NLIHCID_PROJ has been output.
MPRINT(DATA_TO_FORMAT):   run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
59 The SAS System                                                                              19:08 Saturday, July 18, 2015

NOTE: There were 363 observations read from the data set WORK._CNTLIN.

MPRINT(DATA_TO_FORMAT):   proc datasets library=work memtype=(data) nolist;
MPRINT(DATA_TO_FORMAT):   delete _cntlin;
MPRINT(DATA_TO_FORMAT):   quit;

NOTE: Deleting WORK._CNTLIN (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: [Data_to_format] Exiting macro.
713        
714        proc format;
715          value $except_tl
716            "-", "n/a" = 'white'
717            other = 'yellow';
NOTE: Format $EXCEPT_TL has been output.
718        run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

719        
720        ods listing close;
721        ods pdf file="&_dcdata_r_path\PresCat\Prog\Updates\Update_&Update_file._project.pdf"
722          style=Styles.Rtf_arial_9pt pdftoc=2 bookmarklist=hide uniform;
NOTE: Writing ODS PDF output to DISK destination 
      "C:\DCData\Libraries\PresCat\Prog\Updates\Update_Sec8MF_2014_11_project.pdf", printer "PDF".
723        
724        
725        proc report data=Update_project_result_report nowd;
726          by category_code ;
727          column nlihc_id Var Old_value New_value Except_value;
728          define nlihc_id / order noprint;
729          define Var / display "Var" style=[textalign=left];
730          define Old_value / display "Old value" style=[textalign=left];
731          define New_value / display "New value" style=[textalign=left];
732          define Except_value / display "Exception" style(column)=[background=$except_tl. textalign=left];
733          break before nlihc_id / ;
734          compute before nlihc_id / style=[textalign=left fontweight=bold];
735            line nlihc_id $nlihcid_proj.;
736          endcomp;
60 The SAS System                                                                              19:08 Saturday, July 18, 2015

737          label category_code = 'Category';
738          title2 " ";
739          title3 "PresCat.Project - Updated variables";
740        run;

NOTE: There were 7 observations read from the data set WORK.UPDATE_PROJECT_RESULT_REPORT.
NOTE: PROCEDURE REPORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

741        
742        
743        /***
744        proc print data=Update_project_result_report label noobs;
745          by category_code nlihc_id;
746          var Var Old_value New_value;
747          var Except_value / style(data) = [background=$except_tl.];
748          label
749            category_code = "Category"
750            nlihc_id = "Project"
751            Var = "Var"
752            Old_value = "Old value"
753            New_value = "Update"
754            Except_value = "Exception";
755          format nlihc_id $nlihcid_proj.;
756          title2 " ";
757          title3 "PresCat.Project - Updated variables";
758        run;
759        ***/
760        
761        ** Non-matching records **;
762        
763        proc print data=Project_mfa_update_b label noobs;
764          where missing( nlihc_id );
765          var &Project_missing_info_vars;
766          label
767            address_line1_text = "Address";
768          title3 "PresCat.Project - Unmatched project records in update file";
769        run;

NOTE: No observations were selected from data set WORK.PROJECT_MFA_UPDATE_B.
NOTE: There were 0 observations read from the data set WORK.PROJECT_MFA_UPDATE_B.
      WHERE MISSING(nlihc_id);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
61 The SAS System                                                                              19:08 Saturday, July 18, 2015

      cpu time            0.00 seconds
      

770        
771        title2;
772        
773        ods pdf close;
NOTE: ODS PDF printed 2 pages to C:\DCData\Libraries\PresCat\Prog\Updates\Update_Sec8MF_2014_11_project.pdf.
774        ods listing;
NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           2.18 seconds
      cpu time            1.82 seconds
      
