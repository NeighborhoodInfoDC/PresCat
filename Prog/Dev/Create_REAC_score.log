1                                         The SAS System           15:40 Friday, December 19, 2014

NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS2M3) 
      Licensed to THE URBAN INSTITUTE, Site 70097024.
NOTE: This session is executing on the X64_VSPRO  platform.



NOTE: SAS initialization used:
      real time           0.91 seconds
      cpu time            0.15 seconds
      

NOTE: AUTOEXEC processing beginning; file is D:\Users\ptatian\Documents\My SAS 
      Files\9.2\Autoexnt.sas.


NOTE: AUTOEXEC processing completed.

1          /**************************************************************************
2           Program:  Create_REAC_score.sas
3           Library:  PresCat
4           Project:  NeighborhoodInfo DC
5           Author:   P. Tatian
6           Created:  08/20/13
7           Version:  SAS 9.1
8           Environment:  Windows
9          
10          Description:  Create REAC_score table for DC Preservation Catalog.
11         
12          Modifications:
13           12/19/14 PAT Updated for SAS1. Added variable labels.
14         **************************************************************************/
15         
16         %include "L:\SAS\Inc\StdLocal.sas";
NOTE: Libref _METADAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\Metadata\Data
59        +
60        +options ls=124 ps=48;    ** Landscape **;
61        +
62        +** Output title **;
63        +
64        +title "&_library/&_program:  NeighborhoodInfo DC";
65        +
66        +** Define General library for local session only **;
67        +
2 The SAS System                                                                             15:40 Friday, December 19, 2014

68        +%DCData_lib( General, env=windows, macdef=dcautos uiautos sasautos )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref GENERA_L was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: D:\DCData\Libraries\General\Data
NOTE: Libref GENERA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\General\Data
NOTE: Libref GENERAL was successfully assigned as follows: 
      Levels:           2
      Engine(1):        V9 
      Physical Name(1): D:\DCData\Libraries\General\Data
      Engine(2):        V9 
      Physical Name(2): L:\Libraries\General\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     GENERA_L DCAUTOS UIAUTOS SASAUTOS

=====================================================================


=====================================================================
Current Sasautos Option value:

     GENERA_L  GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

3 The SAS System                                                                             15:40 Friday, December 19, 2014

69        +
70        +%let _userid = %sysfunc( putc( %lowcase(&SYSUSERID), $longusr. ) );
NOTE: %INCLUDE (level 1) ending.
71         
72         ** Define libraries **;
73         %DCData_lib( PresCat, local=n )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref PRESCA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\PresCat\Data
NOTE: Libref PRESCAT was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): L:\Libraries\PresCat\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL PRESCAT

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
NOTE:    PRESCAT.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     PRESCA_R GENERA_L GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

74         
75         proc print data=PresCat.DC_info (obs=100);
76           id nlihc_id;
77           var pass: ;
78         run;

NOTE: There were 100 observations read from the data set PRESCAT.DC_INFO.
4 The SAS System                                                                             15:40 Friday, December 19, 2014

NOTE: The PROCEDURE PRINT printed pages 1-3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds
      

79         
80         data PresCat.REAC_score (label="Preservation Catalog, REAC scores");
81         
82           length Nlihc_id $ 8;
83         
84           set PresCat.DC_info (keep=nlihc_id pass:);
85         
86           array scores{*} pass1_score pass2_score pass3_score;
87           array dates{*} pass1_date pass2_date pass3_date;
88         
89           length REAC_date 8 REAC_score $ 8 REAC_score_num 8 REAC_score_letter $ 2;
90         
91           do i = 1 to dim( scores );
92         
93             if not( missing ( scores{i} ) ) then do;
94         
95               REAC_date = dates{i};
96               REAC_score = left( lowcase( scores{i} ) );
97         
98               j = indexc( REAC_score, 'abcdefghijklmnopqrstuvwxyz' );
99         
100              REAC_score_num = input( substr( REAC_score, 1, j - 1 ), 3. );
101              REAC_score_letter = substr( REAC_score, j );
102        
103              output;
104        
105            end;
106        
107          end;
108        
109          label
110            Nlihc_id = "Preservation Catalog project ID"
111            REAC_date = "Date of REAC inspection"
112            REAC_score = "REAC inspection score"
113            REAC_score_num = "REAC inspection score, number part"
114            REAC_score_letter = "REAC inspection score, letter part";
115        
116          keep nlihc_id REAC_: ;
117        
118          format REAC_date mmddyy10.;
5 The SAS System                                                                             15:40 Friday, December 19, 2014

119        
120        run;

NOTE: There were 359 observations read from the data set PRESCAT.DC_INFO.
NOTE: The data set PRESCAT.REAC_SCORE has 366 observations and 5 variables.
NOTE: Compressing data set PRESCAT.REAC_SCORE increased size by 20.00 percent. 
      Compressed is 6 pages; un-compressed would require 5 pages.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

121        
122        proc sort data=PresCat.REAC_score;
123          by nlihc_id descending REAC_date;
124        
125        %File_info( data=PresCat.REAC_score, printobs=100 )
MPRINT(FILE_INFO):   title2 "File = PresCat.REAC_score";

NOTE: There were 366 observations read from the data set PRESCAT.REAC_SCORE.
NOTE: SAS sort was used.
NOTE: The data set PRESCAT.REAC_SCORE has 366 observations and 5 variables.
NOTE: Compressing data set PRESCAT.REAC_SCORE increased size by 20.00 percent. 
      Compressed is 6 pages; un-compressed would require 5 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
      

MPRINT(FILE_INFO):   proc contents data=PresCat.REAC_score;
MPRINT(FILE_INFO):   run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
NOTE: The PROCEDURE CONTENTS printed page 4.

MPRINT(FILE_INFO):   proc print data=PresCat.REAC_score (obs=100);
MPRINT(FILE_INFO):   title3 "Printing first 100 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 100 observations read from the data set PRESCAT.REAC_SCORE.
NOTE: The PROCEDURE PRINT printed pages 5-7.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
6 The SAS System                                                                             15:40 Friday, December 19, 2014

      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   options nolabel;
MPRINT(FILE_INFO):   proc means data=PresCat.REAC_score n sum mean stddev min max;
MPRINT(FILE_INFO):   run;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 366 observations read from the data set PRESCAT.REAC_SCORE.
NOTE: The PROCEDURE MEANS printed page 8.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   options label;
MPRINT(FILE_INFO):   title2;
126        
127        
128        run;

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1.68 seconds
      cpu time            0.26 seconds
      
