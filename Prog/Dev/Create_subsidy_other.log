1                                         The SAS System             17:56 Monday, August 31, 2015

NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS2M3) 
      Licensed to THE URBAN INSTITUTE, Site 70097024.
NOTE: This session is executing on the X64_VSPRO  platform.



NOTE: SAS initialization used:
      real time           0.75 seconds
      cpu time            0.10 seconds
      

NOTE: AUTOEXEC processing beginning; file is D:\Users\ptatian\Documents\My SAS 
      Files\9.2\Autoexnt.sas.


NOTE: AUTOEXEC processing completed.

1          /**************************************************************************
2           Program:  Create_subsidy_other.sas
3           Library:  PresCat
4           Project:  NeighborhoodInfo DC
5           Author:   P. Tatian
6           Created:  07/25/13
7           Version:  SAS 9.1
8           Environment:  Local Windows session (desktop)
9          
10          Description:  Create initial Subsidy data set.
11          Other subsidies.
12         
13          Modifications:
14           09/27/14 PAT Updated for SAS1.
15           10/19/14 PAT Changed informat for reading source date to ANYDTDTE.
16                        Updated DC_info file.
17           12/31/14 PAT Updated Program var to use new codes.
18           01/08/15 PAT Changed Update_date to Update_dtm (datetime).
19           01/18/15 PAT Added calculated Compl_end and Poa_end for LIHTC projects.
20           08/31/15 PAT Replace PresCat.DC_Info_10_19_14 with PresCat.DC_Info_07_08_15.
21         **************************************************************************/
22         
23         %include "L:\SAS\Inc\StdLocal.sas";
NOTE: Libref _METADAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\Metadata\Data
69        +
70        +options ls=124 ps=48;    ** Landscape **;
2 The SAS System                                                                               17:56 Monday, August 31, 2015

71        +
72        +** Output title **;
73        +
74        +title "&_library/&_program:  NeighborhoodInfo DC";
75        +
76        +** Define General library for local session only **;
77        +
78        +%DCData_lib( General, env=windows, macdef=dcautos uiautos sasautos )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref GENERA_L was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: D:\DCData\Libraries\General\Data
NOTE: Libref GENERA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\General\Data
NOTE: Libref GENERAL was successfully assigned as follows: 
      Levels:           2
      Engine(1):        V9 
      Physical Name(1): D:\DCData\Libraries\General\Data
      Engine(2):        V9 
      Physical Name(2): L:\Libraries\General\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     TTAUTOS  GENERA_L DCAUTOS UIAUTOS SASAUTOS

=====================================================================


3 The SAS System                                                                               17:56 Monday, August 31, 2015

=====================================================================
Current Sasautos Option value:

     TTAUTOS GENERA_L  GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

79        +
80        +%let _userid = %sysfunc( putc( %lowcase(&SYSUSERID), $longusr. ) );
NOTE: %INCLUDE (level 1) ending.
81         
82         ** Define libraries **;
83         %DCData_lib( PresCat, local=n )
MPRINT(DCDATA_LIB):   options nomprint;
NOTE: Libref PRESCA_R was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: L:\Libraries\PresCat\Data
NOTE: Libref PRESCAT was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): L:\Libraries\PresCat\Data

=====================================================================
Current FmtSearch Option value:

     WORK* LIBRARY* GENERAL PRESCAT

   *implicitly included by default.

=====================================================================
Status of current catalogs:

NOTE:    WORK.FORMATS DOES NOT EXIST
NOTE:    LIBRARY.FORMATS DOES NOT EXIST
NOTE:    GENERAL.FORMATS EXISTS
NOTE:    PRESCAT.FORMATS EXISTS
=====================================================================


=====================================================================
Current Sasautos Option value:

     TTAUTOS  PRESCA_R GENERA_L GENERA_R DCAUTOS UIAUTOS SASAUTOS

=====================================================================

4 The SAS System                                                                               17:56 Monday, August 31, 2015

84         
85         ** Format for translating old program descriptions to new codes **;
86         
87         proc format;
88           value $oldcattoprog
89             '202 Direct Loan/ Elderly/ Pre - 1974' = '202-DL-E74'
90             '202/8 Direct Loan/ Elderly-Handicapped' = '202-DL-EH'
91             '202/811 Capital Advance' = '202/811-CA'
92             '207/ 223(f) Pur/ Refin Hsg.' = '207/223-PR'
93             '220 Urban Renewal Hsg.' = '220-URH'
94             '221(d)(3) BMIR Urban Renewal/ Coop Hsg' = '221-3-BMIR-URC'
95             '221(d)(3) Mkt. Rate Moderate Inc/ Disp Fams' = '221-3-MRMI'
96             '221(d)(4) Mkt. Rate Mod Inc/ Disp Fams' = '221-4-MRMI'
97             '223(a)(7)/207/223(f) Refinanced Insurance' = '223/207/223-RI'
98             '223(a)(7)/220 Refi/ Urban Renewal' = '223/220-RUR'
99             '223(a)(7)/221(d)(3) MKT Refi/ Moderate Income' = '223/221-3-MRMI'
100            '223(a)(7)/221(d)(4) MKT  Refi/ Moderate Income' = '223/221-4-MRMI'
101            '223(a)(7)/221(d)(4) MKT/244 Refi/Mod Income Co-In' = '223/221/244-MRMI'
102            '223(a)(7)/232 Refi/ Nursing Home' = '223/232-RNH'
103            '232 Nursing Homes' = '232-NH'
104            '232/ 223(f)/Pur/Refin/ Nursing Hms' = '232/223-PRNH'
105            '236(j)(1)/ Lower Income Families' = '236-LIF'
106            '241(a)/ 221-BMIR Improvements & Additions' = '241/221-BMIRIA'
107            '542(b) QPE Risk Sharing-Recent Comp' = '542-QPE-RC'
108            '542(b)QPE Risk Sharing-Existing' = '542-QPE-E'
109            '542(c) HFA Risk Sharing-Existing' = '542-HFA-E'
110            '542(c) HFA Risk Sharing-Recent Comp' = '542-HFA-RC'
111            'CDBG' = 'CDBG'
112            'DC Housing Production Trust Fund' = 'DC-HPTF'
113            'HOME' = 'HOME'
114            'Low Income Housing Tax Credit' = 'LIHTC'
115            'McKinney Vento Act loan' = 'MCKINNEY'
116            'Public housing' = 'PUBHSNG'
117            'Tax exempt bond' = 'TEBOND'
118            other = ' ';
NOTE: Format $OLDCATTOPROG has been output.
119        
120        ** Fix problem with date for V202 **;
121        

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      

122        data DC_Info;
5 The SAS System                                                                               17:56 Monday, August 31, 2015

123        
124          set PresCat.DC_Info_07_08_15;
INFO: Data file PRESCAT.DC_INFO_07_08_15.DATA is in a format that is native to another host, or the file encoding does not 
match the session encoding. Cross Environment Data Access will be used, which might require additional CPU resources and 
might reduce performance.
125        
126          ** Apply standard corrections **;
127        
128          %DCInfo_corrections()
MPRINT(DCINFO_CORRECTIONS):   ** Assign new NLIHC_ID to St. Dennis (duplicate ID with CEMI - Bethune House) **;
MPRINT(DCINFO_CORRECTIONS):   if NLIHC_ID = "NL001007" and upcase( Proj_Name ) = "ST. DENNIS" then NLIHC_ID = "NL001030";
MPRINT(DCINFO_CORRECTIONS):   if NLIHC_ID = "NL000046" then do;
MPRINT(DCINFO_CORRECTIONS):   units = 535;
MPRINT(DCINFO_CORRECTIONS):   Category = "1";
MPRINT(DCINFO_CORRECTIONS):   end;
129        
130          v202_start_n = input( v202_start, mmddyy12. );
131        
132          format v202_start_n mmddyy10.;
133        
134          rename v202_start_n=v202_start v202_start=v202_start_xxx;
135        
136        run;

NOTE: There were 361 observations read from the data set PRESCAT.DC_INFO_07_08_15.
NOTE: The data set WORK.DC_INFO has 361 observations and 103 variables.
NOTE: Compressing data set WORK.DC_INFO decreased size by 87.85 percent. 
      Compressed is 22 pages; un-compressed would require 181 pages.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

137        
138        /** Macro print_subsidy - Start Definition **/
139        
140        %macro print_subsidy( subsidy );
141        
142          proc print data=DC_Info;
143            where &subsidy._source ~= "";
144            var &subsidy._: ;
145          run;
146        
147        %mend print_subsidy;
148        
149        /** End Macro Definition **/
6 The SAS System                                                                               17:56 Monday, August 31, 2015

150        
151        
152        /*
153        %print_subsidy( cdbg )
154        %print_subsidy( dcha )
155        %print_subsidy( fha )
156        %print_subsidy( home )
157        %print_subsidy( hptf )
158        %print_subsidy( lihtc )
159        %print_subsidy( mckin )
160        %print_subsidy( tebond )
161        %print_subsidy( v202 )
162        %print_subsidy( v236 )
163        */
164        
165        %global sub_list;
166        
167        %let sub_list = ;
168        
169        /** Macro compile_subsidy - Start Definition **/
170        
171        %macro compile_subsidy( sub, units=_assunits, poa=y );
172        
173          %local program;
174        
175          %let sub = %lowcase( &sub );
176          %let poa = %lowcase( &poa );
177        
178          %let sub_list = &sub_list Subsidy_&sub;
179        
180          /*
181          proc freq data=PresCat.DC_Info_07_08_15;
182            tables &sub._source;
183          run;
184        
185          proc freq data=PresCat.DC_Info_07_08_15;
186            tables &sub._prog;
187          run;
188          */
189        
190          data Subsidy_&sub;
191        
192            set DC_Info;
193            where &sub._source ~= "";
194        
195            length Program $ 32;
7 The SAS System                                                                               17:56 Monday, August 31, 2015

196        
197            %if &sub = cdbg %then %do;
198               program = "CDBG";
199            %end;
200            %else %if &sub = dcha %then %do;
201               program = "PUBHSNG";
202            %end;
203            %else %if &sub = home %then %do;
204               program = "HOME";
205            %end;
206            %else %if &sub = mckin %then %do;
207               program = "MCKINNEY";
208            %end;
209            %else %if &sub = hptf %then %do;
210               program = "DC-HPTF";
211            %end;
212            %else %if &sub = lihtc %then %do;
213               program = "LIHTC";
214            %end;
215            %else %if &sub = tebond %then %do;
216               program = "TEBOND";
217            %end;
218            %else %do;
219               program = put( &sub._prog, $oldcattoprog. );
220            %end;
221        
222            Units_assist = &sub.&units;
223        
224            %if &poa = y %then %do;
225        
226              POA_start = &sub._start;
227              POA_end = &sub._end;
228        
229              format POA_start POA_end mmddyy10.;
230        
231            %end;
232            %else %do;
233        
234              POA_start = .;
235              POA_end = .;
236        
237            %end;
238        
239            length
240              Subsidy_Active 3
241              Subsidy_Info_Source_ID $ 40
8 The SAS System                                                                               17:56 Monday, August 31, 2015

242              Subsidy_Info_Source_Var $ 32
243              Subsidy_Info_Source $ /*16*/ 40
244              Subsidy_Info_Source_Date 8
245              Update_Dtm 8
246            ;
247        
248            Subsidy_Active = 1;
249        
250            if &sub._source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
251            else if &sub._source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
252            else if &sub._source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
253            else if &sub._source =: "HUD - Office of Community Planning and Development" then Subsidy_Info_Source =
253      ! "HUD/OCPD";
254            else if &sub._source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
255            else if &sub._source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
256            else do;
257              ** TEMPORARY CODING **;
258              Subsidy_Info_Source = scan( &sub._source, 1, '(' );
259            end;
260            /*
261            else do;
262              %err_put( msg="Data source not recognized. " _n_= nlihc_id= &sub._source= )
263            end;
264            */
265        
266          if indexc( &sub._source, '(' ) > 0 then do;
267        
268            Subsidy_Info_Source_Date =
269              input(
270                substr( &sub._source,
271                        indexc( &sub._source, '(' ) + 1,
272                        indexc( &sub._source, ')' ) - ( indexc( &sub._source, '(' ) + 1 ) ),
273                anydtdte12. );
274        
275          end;
276          else do;
277        
278            Subsidy_Info_Source_Date = .u;
279        
280          end;
281        
282        
283            Subsidy_Info_Source_ID = "";
284            Subsidy_Info_Source_Var = "";
285        
286            Update_Dtm = datetime();
9 The SAS System                                                                               17:56 Monday, August 31, 2015

287        
288            format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
289        
290            keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
291        
292          run;
293        
294          /*%File_info( data=Subsidy_&sub., freqvars=Program Subsidy_Info_Source, printobs=0 )*/
295        
296        %mend compile_subsidy;
297        
298        /** End Macro Definition **/
299        
300        %compile_subsidy( cdbg )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_cdbg;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where cdbg_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "CDBG";
MPRINT(COMPILE_SUBSIDY):   Units_assist = cdbg_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = cdbg_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = cdbg_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if cdbg_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if cdbg_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if cdbg_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if cdbg_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if cdbg_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if cdbg_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( cdbg_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( cdbg_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( cdbg_source, indexc( cdbg_source, '(' ) + 1, indexc( 
cdbg_source, ')' ) - ( indexc( cdbg_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
10 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 52 observations read from the data set WORK.DC_INFO.
      WHERE cdbg_source not = ' ';
NOTE: The data set WORK.SUBSIDY_CDBG has 52 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_CDBG decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

301        %compile_subsidy( dcha, units=_units, poa=n )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_dcha;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where dcha_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "PUBHSNG";
MPRINT(COMPILE_SUBSIDY):   Units_assist = dcha_units;
MPRINT(COMPILE_SUBSIDY):   POA_start = .;
MPRINT(COMPILE_SUBSIDY):   POA_end = .;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if dcha_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if dcha_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if dcha_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if dcha_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if dcha_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if dcha_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( dcha_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( dcha_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( dcha_source, indexc( dcha_source, '(' ) + 1, indexc( 
dcha_source, ')' ) - ( indexc( dcha_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
11 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 106 observations read from the data set WORK.DC_INFO.
      WHERE dcha_source not = ' ';
NOTE: The data set WORK.SUBSIDY_DCHA has 106 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_DCHA decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

302        %compile_subsidy( fha, units=_units )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_fha;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where fha_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = put( fha_prog, $oldcattoprog. );
MPRINT(COMPILE_SUBSIDY):   Units_assist = fha_units;
MPRINT(COMPILE_SUBSIDY):   POA_start = fha_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = fha_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if fha_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if fha_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if fha_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if fha_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if fha_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if fha_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( fha_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( fha_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( fha_source, indexc( fha_source, '(' ) + 1, indexc( 
fha_source, ')' ) - ( indexc( fha_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
12 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 91 observations read from the data set WORK.DC_INFO.
      WHERE fha_source not = ' ';
NOTE: The data set WORK.SUBSIDY_FHA has 91 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_FHA decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

303        %compile_subsidy( home )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_home;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where home_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "HOME";
MPRINT(COMPILE_SUBSIDY):   Units_assist = home_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = home_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = home_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if home_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if home_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if home_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if home_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if home_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if home_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( home_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( home_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( home_source, indexc( home_source, '(' ) + 1, indexc( 
home_source, ')' ) - ( indexc( home_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
13 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 27 observations read from the data set WORK.DC_INFO.
      WHERE home_source not = ' ';
NOTE: The data set WORK.SUBSIDY_HOME has 27 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_HOME increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

304        %compile_subsidy( hptf )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_hptf;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where hptf_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "DC-HPTF";
MPRINT(COMPILE_SUBSIDY):   Units_assist = hptf_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = hptf_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = hptf_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if hptf_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if hptf_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if hptf_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if hptf_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if hptf_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if hptf_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( hptf_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( hptf_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( hptf_source, indexc( hptf_source, '(' ) + 1, indexc( 
14 The SAS System                                                                              17:56 Monday, August 31, 2015

hptf_source, ')' ) - ( indexc( hptf_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 63 observations read from the data set WORK.DC_INFO.
      WHERE hptf_source not = ' ';
NOTE: The data set WORK.SUBSIDY_HPTF has 63 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_HPTF decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

305        %compile_subsidy( lihtc )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_lihtc;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where lihtc_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "LIHTC";
MPRINT(COMPILE_SUBSIDY):   Units_assist = lihtc_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = lihtc_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = lihtc_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if lihtc_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if lihtc_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = 
"DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if lihtc_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if lihtc_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if lihtc_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if lihtc_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( lihtc_source, 1, '(' );
15 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( lihtc_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( lihtc_source, indexc( lihtc_source, '(' ) + 1, indexc( 
lihtc_source, ')' ) - ( indexc( lihtc_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 123 observations read from the data set WORK.DC_INFO.
      WHERE lihtc_source not = ' ';
NOTE: The data set WORK.SUBSIDY_LIHTC has 123 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_LIHTC decreased size by 33.33 percent. 
      Compressed is 2 pages; un-compressed would require 3 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

306        %compile_subsidy( mckin )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_mckin;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where mckin_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "MCKINNEY";
MPRINT(COMPILE_SUBSIDY):   Units_assist = mckin_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = mckin_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = mckin_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if mckin_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if mckin_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = 
"DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if mckin_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if mckin_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if mckin_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if mckin_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
16 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( mckin_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( mckin_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( mckin_source, indexc( mckin_source, '(' ) + 1, indexc( 
mckin_source, ')' ) - ( indexc( mckin_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 14 observations read from the data set WORK.DC_INFO.
      WHERE mckin_source not = ' ';
NOTE: The data set WORK.SUBSIDY_MCKIN has 14 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_MCKIN increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

307        %compile_subsidy( tebond )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_tebond;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where tebond_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = "TEBOND";
MPRINT(COMPILE_SUBSIDY):   Units_assist = tebond_assunits;
MPRINT(COMPILE_SUBSIDY):   POA_start = tebond_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = tebond_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if tebond_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if tebond_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = 
"DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if tebond_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if tebond_source =: "HUD - Office of Community Planning and Development" then 
17 The SAS System                                                                              17:56 Monday, August 31, 2015

Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if tebond_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if tebond_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( tebond_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( tebond_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( tebond_source, indexc( tebond_source, '(' ) + 1, 
indexc( tebond_source, ')' ) - ( indexc( tebond_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 73 observations read from the data set WORK.DC_INFO.
      WHERE tebond_source not = ' ';
NOTE: The data set WORK.SUBSIDY_TEBOND has 73 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_TEBOND decreased size by 0.00 percent. 
      Compressed is 2 pages; un-compressed would require 2 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

308        %compile_subsidy( v202, units=_units )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_v202;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where v202_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = put( v202_prog, $oldcattoprog. );
MPRINT(COMPILE_SUBSIDY):   Units_assist = v202_units;
MPRINT(COMPILE_SUBSIDY):   POA_start = v202_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = v202_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
MPRINT(COMPILE_SUBSIDY):   if v202_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if v202_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
18 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   else if v202_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if v202_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if v202_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if v202_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( v202_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( v202_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( v202_source, indexc( v202_source, '(' ) + 1, indexc( 
v202_source, ')' ) - ( indexc( v202_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 29 observations read from the data set WORK.DC_INFO.
      WHERE v202_source not = ' ';
NOTE: The data set WORK.SUBSIDY_V202 has 29 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_V202 increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

309        %compile_subsidy( v236, units=_units )
MPRINT(COMPILE_SUBSIDY):   data Subsidy_v236;
MPRINT(COMPILE_SUBSIDY):   set DC_Info;
MPRINT(COMPILE_SUBSIDY):   where v236_source ~= "";
MPRINT(COMPILE_SUBSIDY):   length Program $ 32;
MPRINT(COMPILE_SUBSIDY):   program = put( v236_prog, $oldcattoprog. );
MPRINT(COMPILE_SUBSIDY):   Units_assist = v236_units;
MPRINT(COMPILE_SUBSIDY):   POA_start = v236_start;
MPRINT(COMPILE_SUBSIDY):   POA_end = v236_end;
MPRINT(COMPILE_SUBSIDY):   format POA_start POA_end mmddyy10.;
MPRINT(COMPILE_SUBSIDY):   length Subsidy_Active 3 Subsidy_Info_Source_ID $ 40 Subsidy_Info_Source_Var $ 32 
Subsidy_Info_Source $ 40 Subsidy_Info_Source_Date 8 Update_Dtm 8 ;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Active = 1;
19 The SAS System                                                                              17:56 Monday, August 31, 2015

MPRINT(COMPILE_SUBSIDY):   if v236_source =: "Housing Data Report" then Subsidy_Info_Source = "DC/HSNGDAT";
MPRINT(COMPILE_SUBSIDY):   else if v236_source =: "Affordable Housing Pipeline" then Subsidy_Info_Source = "DC/AFFPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if v236_source =: "DCHFA Pipeline" then Subsidy_Info_Source = "DC/HFAPIPELINE";
MPRINT(COMPILE_SUBSIDY):   else if v236_source =: "HUD - Office of Community Planning and Development" then 
Subsidy_Info_Source = "HUD/OCPD";
MPRINT(COMPILE_SUBSIDY):   else if v236_source =: "HUD - LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else if v236_source =: "HUD LIHTC Database" then Subsidy_Info_Source = "HUD/LIHTC";
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   ** TEMPORARY CODING **;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source = scan( v236_source, 1, '(' );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   if indexc( v236_source, '(' ) > 0 then do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = input( substr( v236_source, indexc( v236_source, '(' ) + 1, indexc( 
v236_source, ')' ) - ( indexc( v236_source, '(' ) + 1 ) ), anydtdte12. );
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   else do;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Date = .u;
MPRINT(COMPILE_SUBSIDY):   end;
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_ID = "";
MPRINT(COMPILE_SUBSIDY):   Subsidy_Info_Source_Var = "";
MPRINT(COMPILE_SUBSIDY):   Update_Dtm = datetime();
MPRINT(COMPILE_SUBSIDY):   format Subsidy_Active dyesno. Subsidy_Info_Source_Date mmddyy10. Update_Dtm datetime16.;
MPRINT(COMPILE_SUBSIDY):   keep NLIHC_ID Program Units_assist POA_start POA_end Subsidy_: Update_Dtm;
MPRINT(COMPILE_SUBSIDY):   run;

NOTE: There were 8 observations read from the data set WORK.DC_INFO.
      WHERE v236_source not = ' ';
NOTE: The data set WORK.SUBSIDY_V236 has 8 observations and 11 variables.
NOTE: Compressing data set WORK.SUBSIDY_V236 increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

310        
311        data PresCat.Subsidy_other;
312        
313          set &sub_list;
314        
315          ** Correct compliance and affordability end dates for LIHTC projects **;
316        
317          if program = "LIHTC" and not( missing( poa_start ) ) then do;
318            Compl_end = intnx( 'year', poa_start, 15, 'same' );
319            Poa_end = intnx( 'year', poa_start, 30, 'same' );
320          end;
20 The SAS System                                                                              17:56 Monday, August 31, 2015

321          else if program ~= "LIHTC" then do;
322            Compl_end = poa_end;
323          end;
324        
325          format Compl_end mmddyy10.;
326        
327        run;

NOTE: There were 52 observations read from the data set WORK.SUBSIDY_CDBG.
NOTE: There were 106 observations read from the data set WORK.SUBSIDY_DCHA.
NOTE: There were 91 observations read from the data set WORK.SUBSIDY_FHA.
NOTE: There were 27 observations read from the data set WORK.SUBSIDY_HOME.
NOTE: There were 63 observations read from the data set WORK.SUBSIDY_HPTF.
NOTE: There were 123 observations read from the data set WORK.SUBSIDY_LIHTC.
NOTE: There were 14 observations read from the data set WORK.SUBSIDY_MCKIN.
NOTE: There were 73 observations read from the data set WORK.SUBSIDY_TEBOND.
NOTE: There were 29 observations read from the data set WORK.SUBSIDY_V202.
NOTE: There were 8 observations read from the data set WORK.SUBSIDY_V236.
NOTE: The data set PRESCAT.SUBSIDY_OTHER has 586 observations and 12 variables.
NOTE: Compressing data set PRESCAT.SUBSIDY_OTHER decreased size by 45.45 percent. 
      Compressed is 6 pages; un-compressed would require 11 pages.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

328        
329        proc sort data=PresCat.Subsidy_other;
330          by nlihc_id program;
331        run;

NOTE: There were 586 observations read from the data set PRESCAT.SUBSIDY_OTHER.
NOTE: SAS sort was used.
NOTE: The data set PRESCAT.SUBSIDY_OTHER has 586 observations and 12 variables.
NOTE: Compressing data set PRESCAT.SUBSIDY_OTHER decreased size by 45.45 percent. 
      Compressed is 6 pages; un-compressed would require 11 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

332        
333        %File_info( data=PresCat.Subsidy_other, freqvars=Program Subsidy_Info_Source, printobs=10 )
MPRINT(FILE_INFO):   title2 "File = PresCat.Subsidy_other";
MPRINT(FILE_INFO):   proc contents data=PresCat.Subsidy_other;
MPRINT(FILE_INFO):   run;
21 The SAS System                                                                              17:56 Monday, August 31, 2015


NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.01 seconds
      cpu time            0.03 seconds
      
NOTE: The PROCEDURE CONTENTS printed pages 1-2.

MPRINT(FILE_INFO):   proc print data=PresCat.Subsidy_other (obs=10);
MPRINT(FILE_INFO):   title3 "Printing first 10 obs.";
MPRINT(FILE_INFO):   run;

NOTE: There were 10 observations read from the data set PRESCAT.SUBSIDY_OTHER.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title3;
MPRINT(FILE_INFO):   options nolabel;
MPRINT(FILE_INFO):   proc means data=PresCat.Subsidy_other n sum mean stddev min max;
MPRINT(FILE_INFO):   run;

NOTE: Multiple concurrent threads will be used to summarize data.
NOTE: There were 586 observations read from the data set PRESCAT.SUBSIDY_OTHER.
NOTE: The PROCEDURE MEANS printed page 4.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   options label;
MPRINT(FILE_INFO):   proc freq data=PresCat.Subsidy_other;
MPRINT(FILE_INFO):   tables Program Subsidy_Info_Source / missing;
MPRINT(FILE_INFO):   run;

NOTE: There were 586 observations read from the data set PRESCAT.SUBSIDY_OTHER.
NOTE: The PROCEDURE FREQ printed pages 5-6.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(FILE_INFO):   title2;
334        
335        **** Compare with earlier version ****;
22 The SAS System                                                                              17:56 Monday, August 31, 2015

336        
337        libname comp 'D:\DCData\Libraries\PresCat\Data\Old';
NOTE: Libref COMP was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: D:\DCData\Libraries\PresCat\Data\Old
338        
339        proc sort data=Comp.Subsidy_other out=Subsidy_other;
340          by nlihc_id program;
341        run;

NOTE: Input data set is already sorted; it has been copied to the output data set.
NOTE: There were 586 observations read from the data set COMP.SUBSIDY_OTHER.
NOTE: The data set WORK.SUBSIDY_OTHER has 586 observations and 12 variables.
NOTE: Compressing data set WORK.SUBSIDY_OTHER decreased size by 45.45 percent. 
      Compressed is 6 pages; un-compressed would require 11 pages.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

342        
343        proc compare base=Subsidy_other compare=PresCat.Subsidy_other maxprint=(40,32000);
344          id nlihc_id program;
345        run;

NOTE: There were 586 observations read from the data set WORK.SUBSIDY_OTHER.
NOTE: There were 586 observations read from the data set PRESCAT.SUBSIDY_OTHER.
NOTE: At least one W.D format was too small for the number to be printed. The decimal may be shifted by the "BEST" format.
NOTE: The PROCEDURE COMPARE printed pages 7-9.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           1.62 seconds
      cpu time            0.32 seconds
      
